<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1617.6171875 1086" style="max-width: 1617.62px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="104" width="647.859375" y="516" x="330.28125" style=""/><g transform="translate(603.6953125, 516)" class="cluster-label"><foreignObject height="24" width="101.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>State Changes</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="741" width="302.28125" y="8" x="8" style=""/><g transform="translate(94.9140625, 8)" class="cluster-label"><foreignObject height="24" width="128.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Lifecycle Methods</p></span></div></foreignObject></g></g><g data-look="classic" id="PersistSignalAdapter" class="cluster"><rect height="917" width="456.7734375" y="161" x="1152.84375" style=""/><g transform="translate(1308.18359375, 161)" class="cluster-label"><foreignObject height="24" width="146.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PersistSignalAdapter</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="128" width="640" y="314" x="492.84375" style=""/><g transform="translate(740.515625, 314)" class="cluster-label"><foreignObject height="24" width="144.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientStrategy State</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_OpenSignal_SetPendingSignal_0" d="M445.078,595L445.078,599.167C445.078,603.333,445.078,611.667,384.827,620C324.576,628.333,204.073,636.667,149.328,644.622C94.583,652.578,105.595,660.155,111.101,663.944L116.607,667.733"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UpdateSignal_SetPendingSignal_0" d="M657.844,595L657.844,599.167C657.844,603.333,657.844,611.667,574.727,620C491.609,628.333,325.375,636.667,242.258,644.333C159.141,652,159.141,659,159.141,662.5L159.141,666"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseSignal_SetPendingSignal_0" d="M866.977,595L866.977,599.167C866.977,603.333,866.977,611.667,761.599,620C656.221,628.333,445.466,636.667,334.582,644.622C223.699,652.578,212.687,660.155,207.18,663.944L201.674,667.733"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SetPendingSignal_WriteSignal_0" d="M193.187,724L198.441,728.167C203.695,732.333,214.203,740.667,404.022,751C593.841,761.333,962.971,773.667,1147.536,785.333C1332.102,797,1332.102,808,1332.102,813.5L1332.102,819"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SetPendingSignal_Skip_0" d="M130.287,724L125.834,728.167C121.381,732.333,112.476,740.667,108.023,751C103.57,761.333,103.57,773.667,103.57,787.333C103.57,801,103.57,816,103.57,823.5L103.57,831"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WriteSignal_FileOps_0" d="M1332.102,901L1332.102,905.167C1332.102,909.333,1332.102,917.667,1336.507,925.569C1340.912,933.471,1349.723,940.942,1354.129,944.678L1358.534,948.413"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WaitForInit_ReadSignal_0" d="M159.141,87L159.141,93.167C159.141,99.333,159.141,111.667,159.141,124C159.141,136.333,159.141,148.667,347.216,164.282C535.291,179.897,911.441,198.793,1099.516,208.242L1287.591,217.69"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ReadSignal_FileOps_0" d="M1480.79,264L1485.885,268.167C1490.98,272.333,1501.17,280.667,1506.264,289C1511.359,297.333,1511.359,305.667,1511.359,320.5C1511.359,335.333,1511.359,356.667,1511.359,378C1511.359,399.333,1511.359,420.667,1511.359,437.5C1511.359,454.333,1511.359,466.667,1511.359,479C1511.359,491.333,1511.359,503.667,1511.359,518.5C1511.359,533.333,1511.359,550.667,1511.359,568C1511.359,585.333,1511.359,602.667,1511.359,615.5C1511.359,628.333,1511.359,636.667,1511.359,649.5C1511.359,662.333,1511.359,679.667,1511.359,697C1511.359,714.333,1511.359,731.667,1511.359,746.5C1511.359,761.333,1511.359,773.667,1511.359,792.5C1511.359,811.333,1511.359,836.667,1511.359,860C1511.359,883.333,1511.359,904.667,1506.954,919.069C1502.549,933.471,1493.738,940.942,1489.332,944.678L1484.927,948.413"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ReadSignal_PendingSignal_0" d="M1329.96,264L1318.941,268.167C1307.921,272.333,1285.883,280.667,1274.863,289C1263.844,297.333,1263.844,305.667,1185.173,318.142C1106.503,330.617,949.162,347.234,870.492,355.542L791.822,363.851"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PendingSignal_UpdateSignal_0" d="M657.844,417L657.844,421.167C657.844,425.333,657.844,433.667,657.844,444C657.844,454.333,657.844,466.667,657.844,479C657.844,491.333,657.844,503.667,657.844,513.333C657.844,523,657.844,530,657.844,533.5L657.844,537"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1332.1015625, 786)" class="edgeLabel"><g transform="translate(-51.921875, -12)" class="label"><foreignObject height="24" width="103.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>backtest=false</p></span></div></foreignObject></g></g><g transform="translate(103.5703125, 786)" class="edgeLabel"><g transform="translate(-49.8125, -12)" class="label"><foreignObject height="24" width="99.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>backtest=true</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(159.140625, 124)" class="edgeLabel"><g transform="translate(-60.6953125, -12)" class="label"><foreignObject height="24" width="121.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>On strategy start</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(657.84375, 479)" class="edgeLabel"><g transform="translate(-51.890625, -12)" class="label"><foreignObject height="24" width="103.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Restored state</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(657.84375, 378)" id="flowchart-PendingSignal-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>_pendingSignal: ISignalRow | null</p></span></div></foreignObject></g></g><g transform="translate(967.84375, 378)" id="flowchart-ScheduledSignal-1" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>_scheduledSignal: IScheduledSignalRow | null</p></span></div></foreignObject></g></g><g transform="translate(1332.1015625, 862)" id="flowchart-WriteSignal-2" class="node default"><rect height="78" width="288.515625" y="-39" x="-144.2578125" style="" class="basic label-container"/><g transform="translate(-114.2578125, -24)" style="" class="label"><rect/><foreignObject height="48" width="228.515625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>writeSignalData(strategyName, symbol, data)</p></span></div></foreignObject></g></g><g transform="translate(1433.1015625, 225)" id="flowchart-ReadSignal-3" class="node default"><rect height="78" width="283.03125" y="-39" x="-141.515625" style="" class="basic label-container"/><g transform="translate(-111.515625, -24)" style="" class="label"><rect/><foreignObject height="48" width="223.03125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>readSignalData(strategyName, symbol)</p></span></div></foreignObject></g></g><g transform="translate(1421.73046875, 1002)" id="flowchart-FileOps-4" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Atomic file operations<br />signal-{strategy}-{symbol}.json</p></span></div></foreignObject></g></g><g transform="translate(159.140625, 697)" id="flowchart-SetPendingSignal-5" class="node default"><rect height="54" width="232.28125" y="-27" x="-116.140625" style="" class="basic label-container"/><g transform="translate(-86.140625, -12)" style="" class="label"><rect/><foreignObject height="24" width="172.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>setPendingSignal(signal)</p></span></div></foreignObject></g></g><g transform="translate(159.140625, 60)" id="flowchart-WaitForInit-6" class="node default"><rect height="54" width="150.28125" y="-27" x="-75.140625" style="" class="basic label-container"/><g transform="translate(-45.140625, -12)" style="" class="label"><rect/><foreignObject height="24" width="90.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>waitForInit()</p></span></div></foreignObject></g></g><g transform="translate(445.078125, 568)" id="flowchart-OpenSignal-7" class="node default"><rect height="54" width="159.59375" y="-27" x="-79.796875" style="" class="basic label-container"/><g transform="translate(-49.796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="99.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Signal opened</p></span></div></foreignObject></g></g><g transform="translate(657.84375, 568)" id="flowchart-UpdateSignal-8" class="node default"><rect height="54" width="165.9375" y="-27" x="-82.96875" style="" class="basic label-container"/><g transform="translate(-52.96875, -12)" style="" class="label"><rect/><foreignObject height="24" width="105.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Signal updated</p></span></div></foreignObject></g></g><g transform="translate(866.9765625, 568)" id="flowchart-CloseSignal-9" class="node default"><rect height="54" width="152.328125" y="-27" x="-76.1640625" style="" class="basic label-container"/><g transform="translate(-46.1640625, -12)" style="" class="label"><rect/><foreignObject height="24" width="92.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Signal closed</p></span></div></foreignObject></g></g><g transform="translate(103.5703125, 862)" id="flowchart-Skip-19" class="node default"><rect height="54" width="175.90625" y="-27" x="-87.953125" style="" class="basic label-container"/><g transform="translate(-57.953125, -12)" style="" class="label"><rect/><foreignObject height="24" width="115.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Skip persistence</p></span></div></foreignObject></g></g></g></g></g></svg>