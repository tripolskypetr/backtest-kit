<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 731.3515625 1103" style="max-width: 731.352px; background-color: white;" class="statediagram" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#my-svg g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#my-svg g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#my-svg g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#my-svg g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#my-svg g.stateGroup line{stroke:#333333;stroke-width:1;}#my-svg .transition{stroke:#333333;stroke-width:1;fill:none;}#my-svg .stateGroup .composit{fill:white;border-bottom:1px;}#my-svg .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#my-svg .state-note{stroke:#aaaa33;fill:#fff5ad;}#my-svg .state-note text{fill:black;stroke:none;font-size:10px;}#my-svg .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .edgeLabel .label text{fill:#333;}#my-svg .label div .edgeLabel{color:#333;}#my-svg .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#my-svg .node circle.state-start{fill:#333333;stroke:#333333;}#my-svg .node .fork-join{fill:#333333;stroke:#333333;}#my-svg .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#my-svg .end-state-inner{fill:white;stroke-width:1.5;}#my-svg .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg #statediagram-barbEnd{fill:#333333;}#my-svg .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .cluster-label,#my-svg .nodeLabel{color:#131300;}#my-svg .statediagram-cluster rect.outer{rx:5px;ry:5px;}#my-svg .statediagram-state .divider{stroke:#9370DB;}#my-svg .statediagram-state .title-state{rx:5px;ry:5px;}#my-svg .statediagram-cluster.statediagram-cluster .inner{fill:white;}#my-svg .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#my-svg .statediagram-cluster .inner{rx:0;ry:0;}#my-svg .statediagram-state rect.basic{rx:5px;ry:5px;}#my-svg .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#my-svg .note-edge{stroke-dasharray:5;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note text{fill:black;}#my-svg .statediagram-note .nodeLabel{color:black;}#my-svg .statediagram .edgeLabel{color:red;}#my-svg #dependencyStart,#my-svg #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#my-svg .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="my-svg_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"/></marker></defs><g class="root"><g class="clusters"><g data-look="classic" data-id="Initialized" id="Initialized" class="statediagram-state statediagram-cluster"><g><rect data-look="classic" height="885" width="371.703125" y="210" x="8" class="outer"/></g><g transform="translate(157.5546875, 211)" class="cluster-label"><foreignObject height="19" width="72.59375"><div style="display: inline-block; padding-right: 1px; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Initialized</span></div></foreignObject></g><rect height="860" width="371.703125" y="231" x="8" class="inner"/></g><g id="POSITION_NEED_FETCH----parent" class="note-cluster"><rect fill="none" height="128" width="282.4375" y="210" x="440.9140625"/></g><g id="Active----parent" class="note-cluster"><rect fill="none" height="128" width="290.828125" y="967" x="399.703125"/></g></g><g class="edgePaths"><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M388.742,22L388.742,28.167C388.742,34.333,388.742,46.667,388.742,59C388.742,71.333,388.742,83.667,388.742,89.833L388.742,96"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge2" d="M217.169,277.447L199.332,287.539C181.494,297.631,145.819,317.816,127.982,334.075C110.145,350.333,110.145,362.667,110.145,375C110.145,387.333,110.145,399.667,110.145,405.833L110.145,412"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge3" d="M227.412,279.637L234.573,289.364C241.734,299.091,256.057,318.546,263.218,334.44C270.379,350.333,270.379,362.667,270.379,375C270.379,387.333,270.379,399.667,270.379,405.833L270.379,412"/><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition note-edge" id="POSITION_NEED_FETCH-POSITION_NEED_FETCH----note-10" d="M456.599,136L477.521,142.167C498.443,148.333,540.288,160.667,561.21,173C582.133,185.333,582.133,197.667,582.133,208C582.133,218.333,582.133,226.667,582.133,230.833L582.133,235"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M330.679,136L312.776,142.167C294.873,148.333,259.067,160.667,241.165,173C223.262,185.333,223.262,197.667,223.262,203.833L223.262,210"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge4" d="M110.145,452L110.145,458.167C110.145,464.333,110.145,476.667,114.605,491.529C119.066,506.391,127.988,523.783,132.449,532.479L136.91,541.174"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge5" d="M270.379,452L270.379,458.167C270.379,464.333,270.379,476.667,269.061,489C267.743,501.333,265.108,513.667,263.79,519.833L262.473,526"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge6" d="M136.91,843.947L127.699,858.289C118.487,872.631,100.064,901.316,90.852,921.824C81.641,942.333,81.641,954.667,90.645,968.167C99.65,981.667,117.659,996.333,126.664,1003.667L135.668,1011"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge7" d="M179.925,1011L187.148,1003.667C194.371,996.333,208.816,981.667,216.039,968.167C223.262,954.667,223.262,942.333,223.262,930C223.262,917.667,223.262,905.333,223.262,899.167L223.262,893"/><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition note-edge" id="Active-Active----note-11" d="M309.613,873.925L314.521,883.271C319.43,892.617,329.246,911.308,334.154,926.821C339.063,942.333,339.063,954.667,355.003,965.784C370.943,976.902,402.823,986.804,418.763,991.755L434.703,996.706"/></g><g class="edgeLabels"><g transform="translate(388.7421875, 59)" class="edgeLabel"><g transform="translate(-81.2421875, -12)" class="label"><foreignObject height="24" width="162.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>ClientRisk instantiated</p></span></div></foreignObject></g></g><g transform="translate(110.14453125, 375)" class="edgeLabel"><g transform="translate(-62.9375, -12)" class="label"><foreignObject height="24" width="125.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No persisted data</p></span></div></foreignObject></g></g><g transform="translate(270.37890625, 375)" class="edgeLabel"><g transform="translate(-77.296875, -12)" class="label"><foreignObject height="24" width="154.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Persisted data loaded</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(259.47887, 160.52495)" class="edgeLabel"><g transform="translate(-45.140625, -12)" class="label"><foreignObject height="24" width="90.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>waitForInit()</p></span></div></foreignObject></g></g><g transform="translate(110.14453125, 489)" class="edgeLabel"><g transform="translate(-40.0703125, -12)" class="label"><foreignObject height="24" width="80.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>addSignal()</p></span></div></foreignObject></g></g><g transform="translate(270.37890625, 489)" class="edgeLabel"><g transform="translate(-40.0703125, -12)" class="label"><foreignObject height="24" width="80.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>addSignal()</p></span></div></foreignObject></g></g><g transform="translate(81.640625, 930)" class="edgeLabel"><g transform="translate(-53.640625, -12)" class="label"><foreignObject height="24" width="107.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>removeSignal()</p></span></div></foreignObject></g></g><g transform="translate(223.26171875, 930)" class="edgeLabel"><g transform="translate(-40.0703125, -12)" class="label"><foreignObject height="24" width="80.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>addSignal()</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(388.7421875, 15)" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"/></g><g transform="translate(388.7421875, 116)" id="state-POSITION_NEED_FETCH-10" class="node  statediagram-state"><rect height="40" width="182.828125" y="-20" x="-91.4140625" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-83.4140625, -12)" style="" class="label"><rect/><foreignObject height="24" width="166.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>POSITION_NEED_FETCH</p></span></div></foreignObject></g></g><g transform="translate(223.26171875, 274)" id="state-Initialized_start-3" class="node default"><circle height="14" width="14" r="7" class="state-start"/></g><g transform="translate(110.14453125, 432)" id="state-Empty-4" class="node  statediagram-state"><rect height="40" width="61" y="-20" x="-30.5" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-22.5, -12)" style="" class="label"><rect/><foreignObject height="24" width="45"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Empty</p></span></div></foreignObject></g></g><g transform="translate(270.37890625, 432)" id="state-Restored-5" class="node  statediagram-state"><rect height="40" width="78.65625" y="-20" x="-39.328125" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-31.328125, -12)" style="" class="label"><rect/><foreignObject height="24" width="62.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Restored</p></span></div></foreignObject></g></g><g transform="translate(128.91015625, 518)" class="root"><g class="clusters"><g data-look="classic" data-id="Active" id="Active" class="statediagram-state statediagram-cluster"><g><rect data-look="classic" height="367" width="172.703125" y="8" x="8" class="outer"/></g><g transform="translate(71.4375, 9)" class="cluster-label"><foreignObject height="19" width="45.828125"><div style="display: inline-block; padding-right: 1px; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Active</span></div></foreignObject></g><rect height="342" width="172.703125" y="29" x="8" class="inner"/></g></g><g class="edgePaths"><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge8" d="M94.352,59.5L94.352,67.75C94.352,76,94.352,92.5,94.352,109C94.352,125.5,94.352,142,94.352,150.25L94.352,158.5"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge9" d="M94.352,198.5L94.352,206.75C94.352,215,94.352,231.5,94.352,248C94.352,264.5,94.352,281,94.352,289.25L94.352,297.5"/></g><g class="edgeLabels"><g transform="translate(94.3515625, 109)" class="edgeLabel"><g transform="translate(-46.2265625, -12)" class="label"><foreignObject height="24" width="92.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Map updated</p></span></div></foreignObject></g></g><g transform="translate(94.3515625, 248)" class="edgeLabel"><g transform="translate(-66.3515625, -12)" class="label"><foreignObject height="24" width="132.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>_updatePositions()</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(94.3515625, 52.5)" id="state-Active_start-8" class="node default"><circle height="14" width="14" r="7" class="state-start"/></g><g transform="translate(94.3515625, 178.5)" id="state-InMemory-9" class="node  statediagram-state"><rect height="40" width="85.25" y="-20" x="-42.625" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-34.625, -12)" style="" class="label"><rect/><foreignObject height="24" width="69.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>InMemory</p></span></div></foreignObject></g></g><g transform="translate(94.3515625, 317.5)" id="state-Persisted-9" class="node  statediagram-state"><rect height="40" width="80.625" y="-20" x="-40.3125" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-32.3125, -12)" style="" class="label"><rect/><foreignObject height="24" width="64.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Persisted</p></span></div></foreignObject></g></g></g></g><g transform="translate(160.2265625, 1031)" id="state-Closed-7" class="node  statediagram-state"><rect height="40" width="63" y="-20" x="-31.5" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-23.5, -12)" style="" class="label"><rect/><foreignObject height="24" width="47"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Closed</p></span></div></foreignObject></g></g><g transform="translate(582.1328125, 274)" id="state-POSITION_NEED_FETCH----note-10" class="node statediagram-note"><g class="basic label-container"><path style="" fill="#fff5ad" stroke-width="0" stroke="none" d="M-106.21875 -39 L106.21875 -39 L106.21875 39 L-106.21875 39"/><path style="" fill="none" stroke-width="1.3" stroke="#aaaa33" d="M-106.21875 -39 C-49.53498350074454 -39, 7.148782998510924 -39, 106.21875 -39 M-106.21875 -39 C-53.093513914944886 -39, 0.031722170110228376 -39, 106.21875 -39 M106.21875 -39 C106.21875 -13.743016551221679, 106.21875 11.513966897556642, 106.21875 39 M106.21875 -39 C106.21875 -20.16001468041584, 106.21875 -1.3200293608316827, 106.21875 39 M106.21875 39 C57.786346328052865 39, 9.35394265610573 39, -106.21875 39 M106.21875 39 C48.091131037341924 39, -10.036487925316152 39, -106.21875 39 M-106.21875 39 C-106.21875 10.446732463871431, -106.21875 -18.106535072257138, -106.21875 -39 M-106.21875 39 C-106.21875 20.802981948739426, -106.21875 2.6059638974788513, -106.21875 -39"/></g><g transform="translate(-91.21875, -24)" style="" class="label"><rect/><foreignObject height="48" width="182.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Symbol marker indicating<br />positions not yet loaded</p></span></div></foreignObject></g></g><g transform="translate(545.1171875, 1031)" id="state-Active----note-11" class="node statediagram-note"><g class="basic label-container"><path style="" fill="#fff5ad" stroke-width="0" stroke="none" d="M-110.4140625 -39 L110.4140625 -39 L110.4140625 39 L-110.4140625 39"/><path style="" fill="none" stroke-width="1.3" stroke="#aaaa33" d="M-110.4140625 -39 C-40.847062578343824 -39, 28.719937343312353 -39, 110.4140625 -39 M-110.4140625 -39 C-43.45153324072908 -39, 23.510996018541846 -39, 110.4140625 -39 M110.4140625 -39 C110.4140625 -18.748983887839078, 110.4140625 1.5020322243218445, 110.4140625 39 M110.4140625 -39 C110.4140625 -19.709498476470866, 110.4140625 -0.41899695294173256, 110.4140625 39 M110.4140625 39 C22.248042631292975 39, -65.91797723741405 39, -110.4140625 39 M110.4140625 39 C31.991763158094457 39, -46.430536183811085 39, -110.4140625 39 M-110.4140625 39 C-110.4140625 16.992751105414282, -110.4140625 -5.014497789171436, -110.4140625 -39 M-110.4140625 39 C-110.4140625 11.368776105399395, -110.4140625 -16.26244778920121, -110.4140625 -39"/></g><g transform="translate(-95.4140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="190.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Key: strategyName:symbol<br />Value: IRiskActivePosition</p></span></div></foreignObject></g></g></g></g></g></svg>