<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 755.7734375 1867.34375" style="max-width: 755.773px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_CheckEmpty_0" d="M292.125,62L292.125,66.167C292.125,70.333,292.125,78.667,292.195,86.417C292.266,94.167,292.406,101.334,292.476,104.917L292.547,108.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckEmpty_ReturnEarly_0" d="M238.283,266.33L221.569,281.471C204.856,296.611,171.428,326.891,154.714,347.532C138,368.172,138,379.172,138,384.672L138,390.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckEmpty_CalcReference_0" d="M346.967,266.33L363.514,281.471C380.061,296.611,413.156,326.891,429.703,347.532C446.25,368.172,446.25,379.172,446.25,384.672L446.25,390.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcReference_CheckMedianCondition_0" d="M446.25,472.172L446.25,476.339C446.25,480.505,446.25,488.839,446.32,496.589C446.391,504.339,446.531,511.506,446.601,515.089L446.672,518.673"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckMedianCondition_UseMedian_0" d="M369.845,862.938L358.674,881.839C347.503,900.74,325.162,938.542,313.991,962.943C302.82,987.344,302.82,998.344,302.82,1003.844L302.82,1009.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckMedianCondition_UseAverage_0" d="M523.655,862.938L534.659,881.839C545.664,900.74,567.672,938.542,578.676,964.943C589.68,991.344,589.68,1006.344,589.68,1013.844L589.68,1021.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UseMedian_CalcThreshold_0" d="M302.82,1091.344L302.82,1095.51C302.82,1099.677,302.82,1108.01,311.549,1116.072C320.278,1124.134,337.737,1131.924,346.466,1135.819L355.195,1139.714"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UseAverage_CalcThreshold_0" d="M589.68,1079.344L589.68,1085.51C589.68,1091.677,589.68,1104.01,580.951,1114.072C572.222,1124.134,554.763,1131.924,546.034,1135.819L537.305,1139.714"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcThreshold_LoopCandles_0" d="M446.25,1219.344L446.25,1223.51C446.25,1227.677,446.25,1236.01,446.25,1243.677C446.25,1251.344,446.25,1258.344,446.25,1261.844L446.25,1265.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopCandles_CheckFinite_0" d="M446.25,1323.344L446.25,1327.51C446.25,1331.677,446.25,1340.01,446.25,1347.677C446.25,1355.344,446.25,1362.344,446.25,1365.844L446.25,1369.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckFinite_ThrowError_0" d="M384.867,1427.344L370.848,1433.51C356.828,1439.677,328.789,1452.01,314.77,1470.844C300.75,1489.677,300.75,1515.01,300.75,1540.344C300.75,1565.677,300.75,1591.01,300.75,1616.344C300.75,1641.677,300.75,1667.01,300.75,1692.344C300.75,1717.677,300.75,1743.01,302.175,1761.198C303.601,1779.386,306.452,1790.428,307.877,1795.95L309.303,1801.471"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckFinite_CheckPositive_0" d="M481.055,1427.344L489.004,1433.51C496.953,1439.677,512.852,1452.01,520.801,1463.677C528.75,1475.344,528.75,1486.344,528.75,1491.844L528.75,1497.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckPositive_ThrowError_0" d="M462.565,1579.344L452.099,1585.51C441.634,1591.677,420.704,1604.01,410.239,1622.844C399.773,1641.677,399.773,1667.01,399.773,1692.344C399.773,1717.677,399.773,1743.01,392.351,1761.435C384.929,1779.86,370.084,1791.376,362.661,1797.134L355.239,1802.892"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckPositive_CheckAnomaly_0" d="M574.433,1579.344L581.656,1585.51C588.88,1591.677,603.327,1604.01,610.55,1615.677C617.773,1627.344,617.773,1638.344,617.773,1643.844L617.773,1649.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckAnomaly_ThrowError_0" d="M560.067,1731.344L550.943,1737.51C541.818,1743.677,523.569,1756.01,496.957,1768.129C470.344,1780.247,435.368,1792.151,417.88,1798.103L400.392,1804.055"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckAnomaly_Success_0" d="M630.041,1731.344L631.981,1737.51C633.921,1743.677,637.8,1756.01,639.74,1767.677C641.68,1779.344,641.68,1790.344,641.68,1795.844L641.68,1801.344"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(138, 357.171875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(446.25, 357.171875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(302.8203125, 976.34375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(589.6796875, 976.34375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(300.75, 1616.34375)" class="edgeLabel"><g transform="translate(-13.046875, -12)" class="label"><foreignObject height="24" width="26.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(528.75, 1464.34375)" class="edgeLabel"><g transform="translate(-14.765625, -12)" class="label"><foreignObject height="24" width="29.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g transform="translate(399.7734375, 1692.34375)" class="edgeLabel"><g transform="translate(-13.046875, -12)" class="label"><foreignObject height="24" width="26.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(617.7734375, 1616.34375)" class="edgeLabel"><g transform="translate(-14.765625, -12)" class="label"><foreignObject height="24" width="29.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g transform="translate(505.3203125, 1768.34375)" class="edgeLabel"><g transform="translate(-13.046875, -12)" class="label"><foreignObject height="24" width="26.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(641.6796875, 1768.34375)" class="edgeLabel"><g transform="translate(-14.765625, -12)" class="label"><foreignObject height="24" width="29.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(292.125, 35)" id="flowchart-Start-0" class="node default"><rect height="54" width="417.359375" y="-27" x="-208.6796875" style="" class="basic label-container"/><g transform="translate(-178.6796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="357.359375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>VALIDATE_NO_INCOMPLETE_CANDLES_FN(candles)</p></span></div></foreignObject></g></g><g transform="translate(292.125, 216.0859375)" id="flowchart-CheckEmpty-1" class="node default"><polygon transform="translate(-104.0859375,104.0859375)" class="label-container" points="104.0859375,0 208.171875,-104.0859375 104.0859375,-208.171875 0,-104.0859375"/><g transform="translate(-77.0859375, -12)" style="" class="label"><rect/><foreignObject height="24" width="154.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>candles.length === 0?</p></span></div></foreignObject></g></g><g transform="translate(138, 433.171875)" id="flowchart-ReturnEarly-2" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return (no validation needed)</p></span></div></foreignObject></g></g><g transform="translate(446.25, 433.171875)" id="flowchart-CalcReference-3" class="node default"><rect height="78" width="256.5" y="-39" x="-128.25" style="" class="basic label-container"/><g transform="translate(-98.25, -24)" style="" class="label"><rect/><foreignObject height="48" width="196.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Calculate reference price:<br />median or average of OHLC</p></span></div></foreignObject></g></g><g transform="translate(446.25, 730.7578125)" id="flowchart-CheckMedianCondition-4" class="node default"><polygon transform="translate(-208.5859375,208.5859375)" class="label-container" points="208.5859375,0 417.171875,-208.5859375 208.5859375,-417.171875 0,-208.5859375"/><g transform="translate(-169.5859375, -24)" style="" class="label"><rect/><foreignObject height="48" width="339.171875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>candles.length &gt;= CC_GET_CANDLES_MIN_CANDLES_FOR_MEDIAN?</p></span></div></foreignObject></g></g><g transform="translate(302.8203125, 1052.34375)" id="flowchart-UseMedian-5" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Use median of sorted prices</p></span></div></foreignObject></g></g><g transform="translate(589.6796875, 1052.34375)" id="flowchart-UseAverage-6" class="node default"><rect height="54" width="213.71875" y="-27" x="-106.859375" style="" class="basic label-container"/><g transform="translate(-76.859375, -12)" style="" class="label"><rect/><foreignObject height="24" width="153.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Use average of prices</p></span></div></foreignObject></g></g><g transform="translate(446.25, 1180.34375)" id="flowchart-CalcThreshold-7" class="node default"><rect height="78" width="467.484375" y="-39" x="-233.7421875" style="" class="basic label-container"/><g transform="translate(-203.7421875, -24)" style="" class="label"><rect/><foreignObject height="48" width="407.484375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>minValidPrice = referencePrice /<br />CC_GET_CANDLES_PRICE_ANOMALY_THRESHOLD_FACTOR</p></span></div></foreignObject></g></g><g transform="translate(446.25, 1296.34375)" id="flowchart-LoopCandles-8" class="node default"><rect height="54" width="179.953125" y="-27" x="-89.9765625" style="" class="basic label-container"/><g transform="translate(-59.9765625, -12)" style="" class="label"><rect/><foreignObject height="24" width="119.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>For each candle:</p></span></div></foreignObject></g></g><g transform="translate(446.25, 1400.34375)" id="flowchart-CheckFinite-9" class="node default"><rect height="54" width="238.90625" y="-27" x="-119.453125" style="" class="basic label-container"/><g transform="translate(-89.453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="178.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Check isFinite for OHLCV</p></span></div></foreignObject></g></g><g transform="translate(528.75, 1540.34375)" id="flowchart-CheckPositive-10" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Check &gt; 0 for OHLC, &gt;= 0 for volume</p></span></div></foreignObject></g></g><g transform="translate(617.7734375, 1692.34375)" id="flowchart-CheckAnomaly-11" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Check OHLC &gt;= minValidPrice</p></span></div></foreignObject></g></g><g transform="translate(317.2734375, 1832.34375)" id="flowchart-ThrowError-12" class="node default"><rect height="54" width="231.78125" y="-27" x="-115.890625" style="" class="basic label-container"/><g transform="translate(-85.890625, -12)" style="" class="label"><rect/><foreignObject height="24" width="171.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>throw Error with details</p></span></div></foreignObject></g></g><g transform="translate(641.6796875, 1832.34375)" id="flowchart-Success-13" class="node default"><rect height="54" width="184.125" y="-27" x="-92.0625" style="" class="basic label-container"/><g transform="translate(-62.0625, -12)" style="" class="label"><rect/><foreignObject height="24" width="124.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Validation passed</p></span></div></foreignObject></g></g></g></g></g></svg>