<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 1234.93359375 1030" style="max-width: 1234.93px; background-color: white;" class="statediagram" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#my-svg g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#my-svg g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#my-svg g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#my-svg g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#my-svg g.stateGroup line{stroke:#333333;stroke-width:1;}#my-svg .transition{stroke:#333333;stroke-width:1;fill:none;}#my-svg .stateGroup .composit{fill:white;border-bottom:1px;}#my-svg .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#my-svg .state-note{stroke:#aaaa33;fill:#fff5ad;}#my-svg .state-note text{fill:black;stroke:none;font-size:10px;}#my-svg .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .edgeLabel .label text{fill:#333;}#my-svg .label div .edgeLabel{color:#333;}#my-svg .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#my-svg .node circle.state-start{fill:#333333;stroke:#333333;}#my-svg .node .fork-join{fill:#333333;stroke:#333333;}#my-svg .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#my-svg .end-state-inner{fill:white;stroke-width:1.5;}#my-svg .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg #statediagram-barbEnd{fill:#333333;}#my-svg .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .cluster-label,#my-svg .nodeLabel{color:#131300;}#my-svg .statediagram-cluster rect.outer{rx:5px;ry:5px;}#my-svg .statediagram-state .divider{stroke:#9370DB;}#my-svg .statediagram-state .title-state{rx:5px;ry:5px;}#my-svg .statediagram-cluster.statediagram-cluster .inner{fill:white;}#my-svg .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#my-svg .statediagram-cluster .inner{rx:0;ry:0;}#my-svg .statediagram-state rect.basic{rx:5px;ry:5px;}#my-svg .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#my-svg .note-edge{stroke-dasharray:5;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note text{fill:black;}#my-svg .statediagram-note .nodeLabel{color:black;}#my-svg .statediagram .edgeLabel{color:red;}#my-svg #dependencyStart,#my-svg #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#my-svg .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="my-svg_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"/></marker></defs><g class="root"><g class="clusters"><g id="Scheduled----parent" class="note-cluster"><rect fill="none" height="176" width="300" y="476" x="8"/></g><g id="Opened----parent" class="note-cluster"><rect fill="none" height="200" width="300" y="822" x="926.93359375"/></g></g><g class="edgePaths"><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M611.082,22L611.082,26.167C611.082,30.333,611.082,38.667,611.082,47C611.082,55.333,611.082,63.667,611.082,67.833L611.082,72"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M589.676,107.84L575,118.7C560.324,129.56,530.973,151.28,516.297,176.973C501.621,202.667,501.621,232.333,501.621,247.167L501.621,262"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge2" d="M632.488,95.99L701.342,108.825C770.197,121.66,907.905,147.33,976.759,178.332C1045.613,209.333,1045.613,245.667,1045.613,284C1045.613,322.333,1045.613,362.667,1045.613,395C1045.613,427.333,1045.613,451.667,1038.7,475.167C1031.787,498.667,1017.96,521.333,1011.047,532.667L1004.134,544"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge3" d="M501.621,302L501.621,318.833C501.621,335.667,501.621,369.333,501.621,398.333C501.621,427.333,501.621,451.667,492.316,475.167C483.01,498.667,464.399,521.333,455.094,532.667L445.789,544"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge4" d="M546.176,294.679L609.617,312.732C673.059,330.786,799.941,366.893,863.383,397.113C926.824,427.333,926.824,451.667,935.21,475.167C943.595,498.667,960.365,521.333,968.751,532.667L977.136,544"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge5" d="M967.331,584L953.39,595.333C939.449,606.667,911.566,629.333,897.625,654.833C883.684,680.333,883.684,708.667,883.684,737C883.684,765.333,883.684,793.667,869.932,821.167C856.179,848.667,828.675,875.333,814.923,888.667L801.171,902"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge6" d="M412.946,544L403.64,532.667C394.335,521.333,375.724,498.667,366.419,475.167C357.113,451.667,357.113,427.333,357.113,395C357.113,362.667,357.113,322.333,357.113,284C357.113,245.667,357.113,209.333,395.874,178.805C434.634,148.276,512.155,123.551,550.915,111.189L589.676,98.827"/><path marker-end="url(#my-svg_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge7" d="M768.543,902L760.543,888.667C752.543,875.333,736.543,848.667,728.543,821.167C720.543,793.667,720.543,765.333,720.543,737C720.543,708.667,720.543,680.333,720.543,651.5C720.543,622.667,720.543,593.333,720.543,564C720.543,534.667,720.543,505.333,720.543,478.5C720.543,451.667,720.543,427.333,720.543,395C720.543,362.667,720.543,322.333,720.543,284C720.543,245.667,720.543,209.333,705.867,180.307C691.191,151.28,661.84,129.56,647.164,118.7L632.488,107.84"/><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition note-edge" id="Scheduled-Scheduled----note-8" d="M457.066,297.689L407.222,315.241C357.378,332.793,257.689,367.896,207.844,397.615C158,427.333,158,451.667,158,468C158,484.333,158,492.667,158,496.833L158,501"/><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition note-edge" id="Opened-Opened----note-9" d="M1011.252,584L1022.199,595.333C1033.146,606.667,1055.04,629.333,1065.987,654.833C1076.934,680.333,1076.934,708.667,1076.934,737C1076.934,765.333,1076.934,793.667,1076.934,812C1076.934,830.333,1076.934,838.667,1076.934,842.833L1076.934,847"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(501.62109375, 173)" class="edgeLabel"><g transform="translate(-100, -36)" class="label"><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>tick() returns action='scheduled'<br />(priceOpen not reached)</p></span></div></foreignObject></g></g><g transform="translate(1045.61328125, 282)" class="edgeLabel"><g transform="translate(-100, -48)" class="label"><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>tick() returns action='opened'<br />(priceOpen reached immediately)</p></span></div></foreignObject></g></g><g transform="translate(501.62109375, 403)" class="edgeLabel"><g transform="translate(-100, -48)" class="label"><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>backtest() detects<br />SL hit before activation or<br />timeout or manual cancellation</p></span></div></foreignObject></g></g><g transform="translate(926.82421875, 403)" class="edgeLabel"><g transform="translate(-87.359375, -24)" class="label"><foreignObject height="48" width="174.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>backtest() detects<br />price reaches priceOpen</p></span></div></foreignObject></g></g><g transform="translate(883.68359375, 737)" class="edgeLabel"><g transform="translate(-100, -60)" class="label"><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>backtest() detects<br />priceTakeProfit reached or<br />priceStopLoss reached or<br />minuteEstimatedTime expired</p></span></div></foreignObject></g></g><g transform="translate(357.11328125, 282)" class="edgeLabel"><g transform="translate(-64.953125, -12)" class="label"><foreignObject height="24" width="129.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No PNL calculated</p></span></div></foreignObject></g></g><g transform="translate(720.54296875, 403)" class="edgeLabel"><g transform="translate(-98.921875, -12)" class="label"><foreignObject height="24" width="197.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>PNL calculated, yield result</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(611.08203125, 15)" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"/></g><g transform="translate(611.08203125, 92)" id="state-Idle-7" class="node  statediagram-state"><rect height="40" width="42.8125" y="-20" x="-21.40625" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-13.40625, -12)" style="" class="label"><rect/><foreignObject height="24" width="26.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Idle</p></span></div></foreignObject></g></g><g transform="translate(501.62109375, 282)" id="state-Scheduled-8" class="node  statediagram-state"><rect height="40" width="89.109375" y="-20" x="-44.5546875" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-36.5546875, -12)" style="" class="label"><rect/><foreignObject height="24" width="73.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Scheduled</p></span></div></foreignObject></g></g><g transform="translate(991.93359375, 564)" id="state-Opened-9" class="node  statediagram-state"><rect height="40" width="70.8125" y="-20" x="-35.40625" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-27.40625, -12)" style="" class="label"><rect/><foreignObject height="24" width="54.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Opened</p></span></div></foreignObject></g></g><g transform="translate(429.3671875, 564)" id="state-Cancelled-6" class="node  statediagram-state"><rect height="40" width="86.453125" y="-20" x="-43.2265625" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-35.2265625, -12)" style="" class="label"><rect/><foreignObject height="24" width="70.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Cancelled</p></span></div></foreignObject></g></g><g transform="translate(780.54296875, 922)" id="state-Closed-7" class="node  statediagram-state"><rect height="40" width="63" y="-20" x="-31.5" ry="5" rx="5" style="" class="basic label-container"/><g transform="translate(-23.5, -12)" style="" class="label"><rect/><foreignObject height="24" width="47"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Closed</p></span></div></foreignObject></g></g><g transform="translate(158, 564)" id="state-Scheduled----note-8" class="node statediagram-note"><g class="basic label-container"><path style="" fill="#fff5ad" stroke-width="0" stroke="none" d="M-115 -63 L115 -63 L115 63 L-115 63"/><path style="" fill="none" stroke-width="1.3" stroke="#aaaa33" d="M-115 -63 C-37.043093771664246 -63, 40.91381245667151 -63, 115 -63 M-115 -63 C-65.90546359895143 -63, -16.81092719790287 -63, 115 -63 M115 -63 C115 -34.78897123221697, 115 -6.577942464433946, 115 63 M115 -63 C115 -37.438646598711316, 115 -11.877293197422631, 115 63 M115 63 C36.50018849494488 63, -41.99962301011024 63, -115 63 M115 63 C68.53577437349155 63, 22.071548746983098 63, -115 63 M-115 63 C-115 33.81465486703549, -115 4.629309734070986, -115 -63 M-115 63 C-115 15.447797458747687, -115 -32.10440508250463, -115 -63"/></g><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NOT persisted<br /><br />Monitored in bulk via backtest()</p></span></div></foreignObject></g></g><g transform="translate(1076.93359375, 922)" id="state-Opened----note-9" class="node statediagram-note"><g class="basic label-container"><path style="" fill="#fff5ad" stroke-width="0" stroke="none" d="M-115 -75 L115 -75 L115 75 L-115 75"/><path style="" fill="none" stroke-width="1.3" stroke="#aaaa33" d="M-115 -75 C-43.652210179887504 -75, 27.69557964022499 -75, 115 -75 M-115 -75 C-61.33138555202625 -75, -7.662771104052496 -75, 115 -75 M115 -75 C115 -23.62235629326529, 115 27.755287413469418, 115 75 M115 -75 C115 -27.175166663041736, 115 20.649666673916528, 115 75 M115 75 C30.2605232422151 75, -54.4789535155698 75, -115 75 M115 75 C58.99669583739439 75, 2.993391674788782 75, -115 75 M-115 75 C-115 32.104789732183875, -115 -10.79042053563225, -115 -75 M-115 75 C-115 35.36139873251381, -115 -4.277202534972375, -115 -75"/></g><g transform="translate(-100, -60)" style="" class="label"><rect/><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NOT persisted (backtest mode)<br /><br />Processed in single backtest() call</p></span></div></foreignObject></g></g></g></g></g></svg>