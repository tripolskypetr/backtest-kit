<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 633.55859375 1255.53125" style="max-width: 633.559px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UserCall_SetFlag_0" d="M351.641,86L351.641,90.167C351.641,94.333,351.641,102.667,351.641,110.333C351.641,118,351.641,125,351.641,128.5L351.641,132"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SetFlag_CheckIdle_0" d="M351.641,214L351.641,218.167C351.641,222.333,351.641,230.667,351.711,238.417C351.781,246.167,351.922,253.334,351.992,256.917L352.062,260.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckIdle_ExitImmediate_0" d="M293.854,379.901L261.356,395.699C228.858,411.496,163.863,443.092,131.365,476.541C98.867,509.99,98.867,545.292,98.867,562.943L98.867,580.594"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckIdle_CheckActive_0" d="M352.141,438.188L352.057,444.271C351.974,450.354,351.807,462.521,351.798,474.188C351.79,485.854,351.938,497.021,352.013,502.604L352.087,508.188"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckActive_WaitClose_0" d="M315.459,699.319L309.388,711.516C303.317,723.713,291.174,748.106,285.103,765.803C279.031,783.5,279.031,794.5,279.031,800L279.031,805.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckActive_ContinueLoop_0" d="M400.101,688.039L410.639,702.116C421.176,716.193,442.25,744.346,452.787,771.09C463.324,797.833,463.324,823.167,463.324,848.5C463.324,873.833,463.324,899.167,463.324,929.169C463.324,959.172,463.324,993.844,463.324,1028.516C463.324,1063.188,463.324,1097.859,468.821,1120.883C474.318,1143.906,485.311,1155.28,490.808,1160.968L496.304,1166.655"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WaitClose_CheckClosed_0" d="M279.031,887.5L279.031,893.667C279.031,899.833,279.031,912.167,279.106,923.917C279.18,935.667,279.329,946.834,279.403,952.417L279.478,958"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckClosed_ExitGraceful_0" d="M268.559,1085.059L266.911,1092.971C265.262,1100.883,261.965,1116.707,260.317,1130.119C258.668,1143.531,258.668,1154.531,258.668,1160.031L258.668,1165.531"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckClosed_ContinueLoop_0" d="M311.867,1063.696L322.558,1075.168C333.25,1086.641,354.633,1109.586,377.766,1126.94C400.899,1144.295,425.782,1156.058,438.223,1161.94L450.665,1167.822"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ContinueLoop_CheckIdle_0" d="M544.32,1169.531L545.513,1163.365C546.706,1157.198,549.091,1144.865,550.284,1121.362C551.477,1097.859,551.477,1063.188,551.477,1028.516C551.477,993.844,551.477,959.172,551.477,929.169C551.477,899.167,551.477,873.833,551.477,848.5C551.477,823.167,551.477,797.833,551.477,760.349C551.477,722.865,551.477,673.229,551.477,623.594C551.477,573.958,551.477,524.323,527.757,484.836C504.037,445.35,456.598,416.013,432.879,401.344L409.159,386.675"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(98.8671875, 474.6875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(351.640625, 474.6875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(279.03125, 772.5)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(463.32421875, 924.5)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(258.66796875, 1132.53125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(376.015625, 1132.53125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(351.640625, 47)" id="flowchart-UserCall-0" class="node default"><rect height="78" width="223.640625" y="-39" x="-111.8203125" style="" class="basic label-container"/><g transform="translate(-81.8203125, -24)" style="" class="label"><rect/><foreignObject height="48" width="163.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>User calls Live.stop()<br />or cancellation closure</p></span></div></foreignObject></g></g><g transform="translate(351.640625, 175)" id="flowchart-SetFlag-1" class="node default"><rect height="78" width="221.359375" y="-39" x="-110.6796875" style="" class="basic label-container"/><g transform="translate(-80.6796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="161.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Set _isStopped = true<br />in strategyCoreService</p></span></div></foreignObject></g></g><g transform="translate(351.640625, 350.84375)" id="flowchart-CheckIdle-2" class="node default"><polygon transform="translate(-86.84375,86.84375)" class="label-container" points="86.84375,0 173.6875,-86.84375 86.84375,-173.6875 0,-86.84375"/><g transform="translate(-47.84375, -24)" style="" class="label"><rect/><foreignObject height="48" width="95.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Current state<br />is idle?</p></span></div></foreignObject></g></g><g transform="translate(98.8671875, 623.59375)" id="flowchart-ExitImmediate-3" class="node default"><rect height="78" width="181.734375" y="-39" x="-90.8671875" style="" class="basic label-container"/><g transform="translate(-60.8671875, -24)" style="" class="label"><rect/><foreignObject height="48" width="121.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>break loop<br />Exit immediately</p></span></div></foreignObject></g></g><g transform="translate(351.640625, 623.59375)" id="flowchart-CheckActive-4" class="node default"><polygon transform="translate(-111.90625,111.90625)" class="label-container" points="111.90625,0 223.8125,-111.90625 111.90625,-223.8125 0,-111.90625"/><g transform="translate(-72.90625, -24)" style="" class="label"><rect/><foreignObject height="48" width="145.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Current state<br />is active/scheduled?</p></span></div></foreignObject></g></g><g transform="translate(279.03125, 848.5)" id="flowchart-WaitClose-5" class="node default"><rect height="78" width="220.4375" y="-39" x="-110.21875" style="" class="basic label-container"/><g transform="translate(-80.21875, -24)" style="" class="label"><rect/><foreignObject height="48" width="160.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Continue monitoring<br />Wait for position close</p></span></div></foreignObject></g></g><g transform="translate(279.03125, 1028.515625)" id="flowchart-CheckClosed-6" class="node default"><polygon transform="translate(-67.015625,67.015625)" class="label-container" points="67.015625,0 134.03125,-67.015625 67.015625,-134.03125 0,-67.015625"/><g transform="translate(-28.015625, -24)" style="" class="label"><rect/><foreignObject height="48" width="56.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Position<br />closed?</p></span></div></foreignObject></g></g><g transform="translate(258.66796875, 1208.53125)" id="flowchart-ExitGraceful-7" class="node default"><rect height="78" width="169.171875" y="-39" x="-84.5859375" style="" class="basic label-container"/><g transform="translate(-54.5859375, -24)" style="" class="label"><rect/><foreignObject height="48" width="109.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>break loop<br />Exit after close</p></span></div></foreignObject></g></g><g transform="translate(536.77734375, 1208.53125)" id="flowchart-ContinueLoop-8" class="node default"><rect height="78" width="177.5625" y="-39" x="-88.78125" style="" class="basic label-container"/><g transform="translate(-58.78125, -24)" style="" class="label"><rect/><foreignObject height="48" width="117.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Continue loop<br />Keep monitoring</p></span></div></foreignObject></g></g></g></g></g></svg>