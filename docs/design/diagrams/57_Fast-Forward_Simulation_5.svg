<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 911.6875 1399.28125" style="max-width: 911.688px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_CalcVWAP_0" d="M488.816,86L488.816,90.167C488.816,94.333,488.816,102.667,488.816,110.333C488.816,118,488.816,125,488.816,128.5L488.816,132"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcVWAP_CheckTime_0" d="M440.083,214L434.877,218.167C429.67,222.333,419.257,230.667,414.121,238.417C408.984,246.167,409.125,253.334,409.195,256.917L409.265,260.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTime_CloseTime_0" d="M330.835,427.085L294.799,446.253C258.763,465.421,186.69,503.758,150.654,548.183C114.617,592.609,114.617,643.125,114.617,693.641C114.617,744.156,114.617,794.672,114.617,845.188C114.617,895.703,114.617,946.219,114.617,996.734C114.617,1047.25,114.617,1097.766,114.617,1128.523C114.617,1159.281,114.617,1170.281,114.617,1175.781L114.617,1181.281"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTime_CheckTP_0" d="M465.212,449.726L478.498,465.12C491.785,480.515,518.357,511.304,531.718,532.282C545.079,553.261,545.227,564.427,545.302,570.011L545.376,575.594"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTP_CloseTP_0" d="M486.937,750.195L470.246,766.027C453.554,781.859,420.172,813.523,403.48,854.613C386.789,895.703,386.789,946.219,386.789,996.734C386.789,1047.25,386.789,1097.766,386.789,1128.523C386.789,1159.281,386.789,1170.281,386.789,1175.781L386.789,1181.281"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTP_CheckSL_0" d="M599.977,754.14L613.766,769.314C627.554,784.489,655.13,814.838,668.993,835.596C682.856,856.354,683.005,867.521,683.079,873.104L683.154,878.688"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSL_CloseSL_0" d="M669.639,1098.213L668.423,1106.558C667.207,1114.902,664.775,1131.592,663.56,1145.437C662.344,1159.281,662.344,1170.281,662.344,1175.781L662.344,1181.281"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSL_NextCandle_0" d="M728.836,1066.152L737.871,1079.84C746.905,1093.529,764.974,1120.905,782.119,1142.3C799.264,1163.696,815.484,1179.111,823.594,1186.818L831.705,1194.526"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextCandle_CalcVWAP_0" d="M868.238,1197.281L869.817,1189.115C871.397,1180.948,874.556,1164.615,876.135,1131.19C877.715,1097.766,877.715,1047.25,877.715,996.734C877.715,946.219,877.715,895.703,877.715,845.188C877.715,794.672,877.715,744.156,877.715,693.641C877.715,643.125,877.715,592.609,877.715,541.094C877.715,489.578,877.715,437.063,877.715,386.547C877.715,336.031,877.715,287.516,831.828,255.706C785.942,223.897,694.169,208.794,648.283,201.243L602.396,193.692"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTime_Return_0" d="M114.617,1263.281L114.617,1267.448C114.617,1271.615,114.617,1279.948,137.664,1289.534C160.71,1299.12,206.803,1309.958,229.849,1315.377L252.895,1320.797"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTP_Return_0" d="M386.789,1263.281L386.789,1267.448C386.789,1271.615,386.789,1279.948,386.789,1287.615C386.789,1295.281,386.789,1302.281,386.789,1305.781L386.789,1309.281"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseSL_Return_0" d="M662.344,1263.281L662.344,1267.448C662.344,1271.615,662.344,1279.948,638.734,1289.598C615.124,1299.248,567.905,1310.216,544.295,1315.699L520.685,1321.183"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(114.6171875, 845.1875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(544.9296875, 542.09375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(386.7890625, 996.734375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(682.70703125, 845.1875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(662.34375, 1148.28125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(783.04296875, 1148.28125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(488.81640625, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="210.609375" y="-39" x="-105.3046875" style="" class="basic label-container"/><g transform="translate(-75.3046875, -24)" style="" class="label"><rect/><foreignObject height="48" width="150.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Start at candle index<br />(candlesCount - 1)</p></span></div></foreignObject></g></g><g transform="translate(488.81640625, 175)" id="flowchart-CalcVWAP-1" class="node default"><rect height="78" width="219.265625" y="-39" x="-109.6328125" style="" class="basic label-container"/><g transform="translate(-79.6328125, -24)" style="" class="label"><rect/><foreignObject height="48" width="159.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Calculate VWAP<br />from recent N candles</p></span></div></foreignObject></g></g><g transform="translate(408.84375, 384.546875)" id="flowchart-CheckTime-2" class="node default"><polygon transform="translate(-120.546875,120.546875)" class="label-container" points="120.546875,0 241.09375,-120.546875 120.546875,-241.09375 0,-120.546875"/><g transform="translate(-81.546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="163.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Elapsed Time &gt;=<br />minuteEstimatedTime?</p></span></div></foreignObject></g></g><g transform="translate(114.6171875, 1224.28125)" id="flowchart-CloseTime-3" class="node default"><rect height="78" width="213.234375" y="-39" x="-106.6171875" style="" class="basic label-container"/><g transform="translate(-76.6171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="153.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close at VWAP<br />reason: time_expired</p></span></div></foreignObject></g></g><g transform="translate(544.9296875, 693.640625)" id="flowchart-CheckTP-4" class="node default"><polygon transform="translate(-114.546875,114.546875)" class="label-container" points="114.546875,0 229.09375,-114.546875 114.546875,-229.09375 0,-114.546875"/><g transform="translate(-51.546875, -48)" style="" class="label"><rect/><foreignObject height="96" width="103.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Position long:<br />high &gt;= TP?<br />Position short:<br />low &lt;= TP?</p></span></div></foreignObject></g></g><g transform="translate(386.7890625, 1224.28125)" id="flowchart-CloseTP-5" class="node default"><rect height="78" width="231.109375" y="-39" x="-115.5546875" style="" class="basic label-container"/><g transform="translate(-85.5546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="171.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close at priceTakeProfit<br />reason: take_profit</p></span></div></foreignObject></g></g><g transform="translate(682.70703125, 996.734375)" id="flowchart-CheckSL-6" class="node default"><polygon transform="translate(-114.546875,114.546875)" class="label-container" points="114.546875,0 229.09375,-114.546875 114.546875,-229.09375 0,-114.546875"/><g transform="translate(-51.546875, -48)" style="" class="label"><rect/><foreignObject height="96" width="103.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Position long:<br />low &lt;= SL?<br />Position short:<br />high &gt;= SL?</p></span></div></foreignObject></g></g><g transform="translate(662.34375, 1224.28125)" id="flowchart-CloseSL-7" class="node default"><rect height="78" width="220" y="-39" x="-110" style="" class="basic label-container"/><g transform="translate(-80, -24)" style="" class="label"><rect/><foreignObject height="48" width="160"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Close at priceStopLoss<br />reason: stop_loss</p></span></div></foreignObject></g></g><g transform="translate(863.015625, 1224.28125)" id="flowchart-NextCandle-8" class="node default"><rect height="54" width="81.34375" y="-27" x="-40.671875" style="" class="basic label-container"/><g transform="translate(-10.671875, -12)" style="" class="label"><rect/><foreignObject height="24" width="21.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>i++</p></span></div></foreignObject></g></g><g transform="translate(386.7890625, 1352.28125)" id="flowchart-Return-9" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed</p></span></div></foreignObject></g></g></g></g></g></svg>