<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1596.27734375 2481.671875" style="max-width: 1596.28px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_ValidateContext_0" d="M669.512,86L669.512,90.167C669.512,94.333,669.512,102.667,669.582,110.417C669.652,118.167,669.793,125.334,669.863,128.917L669.933,132.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ValidateContext_ThrowError1_0" d="M623.793,270.86L609.164,284.646C594.535,298.433,565.277,326.005,550.649,356.024C536.02,386.042,536.02,418.505,536.02,434.737L536.02,450.969"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ValidateContext_HasSignal_0" d="M716.23,270.86L730.692,284.646C745.155,298.433,774.079,326.005,788.616,345.375C803.153,364.745,803.302,375.912,803.376,381.495L803.451,387.078"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasSignal_ThrowError2_0" d="M754.935,549.29L742.217,563.468C729.498,577.647,704.062,606.003,691.343,628.641C678.625,651.279,678.625,668.198,678.625,676.658L678.625,685.117"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasSignal_TypeCheck_0" d="M852.073,549.29L864.625,563.468C877.176,577.647,902.28,606.003,914.906,625.765C927.532,645.526,927.681,656.693,927.755,662.276L927.829,667.86"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TypeCheck_ProcessScheduled_0" d="M874.487,755.979L822.037,770.962C769.588,785.945,664.688,815.91,612.239,836.392C559.789,856.875,559.789,867.875,559.789,873.375L559.789,878.875"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProcessScheduled_ScheduledResult_0" d="M559.789,936.875L559.789,941.042C559.789,945.208,559.789,953.542,559.859,961.292C559.93,969.042,560.07,976.209,560.14,979.792L560.211,983.376"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ScheduledResult_ReturnCancelled_0" d="M518.488,1046.684L455.691,1059.734C392.893,1072.784,267.298,1098.884,204.501,1120.64C141.703,1142.396,141.703,1159.807,141.703,1168.513L141.703,1177.219"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ScheduledResult_SliceCandles_0" d="M533.633,1061.828L521.716,1072.354C509.8,1082.88,485.966,1103.932,474.05,1121.164C462.133,1138.396,462.133,1151.807,462.133,1158.513L462.133,1165.219"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SliceCandles_CheckRemaining_0" d="M462.133,1271.219L462.133,1278.591C462.133,1285.964,462.133,1300.708,462.207,1313.664C462.282,1326.62,462.431,1337.787,462.505,1343.37L462.579,1348.953"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckRemaining_CalculateLastPrice_0" d="M397.611,1565.931L382.583,1582.852C367.555,1599.772,337.498,1633.613,322.47,1656.033C307.441,1678.453,307.441,1689.453,307.441,1694.953L307.441,1700.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalculateLastPrice_CloseImmediate_0" d="M307.441,1782.453L307.441,1786.62C307.441,1790.786,307.441,1799.12,307.441,1806.786C307.441,1814.453,307.441,1821.453,307.441,1824.953L307.441,1828.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseImmediate_ReturnClosed1_0" d="M307.441,1910.453L307.441,1914.62C307.441,1918.786,307.441,1927.12,307.441,1937.055C307.441,1946.99,307.441,1958.526,307.441,1964.294L307.441,1970.063"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckRemaining_UpdateCandles_0" d="M537.323,1556.263L558.859,1574.795C580.395,1593.327,623.467,1630.39,645.003,1656.421C666.539,1682.453,666.539,1697.453,666.539,1704.953L666.539,1712.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UpdateCandles_ProcessPending_0" d="M666.539,1770.453L666.539,1776.62C666.539,1782.786,666.539,1795.12,740.8,1808.885C815.06,1822.65,963.582,1837.848,1037.842,1845.446L1112.103,1853.045"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ScheduledResult_CheckTimeout_0" d="M604.81,1043.963L704.98,1057.467C805.151,1070.97,1005.491,1097.977,1105.736,1117.064C1205.981,1136.151,1206.13,1147.318,1206.204,1152.901L1206.279,1158.485"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTimeout_CancelTimeout_0" d="M1167.601,1240.222L1142.452,1252.76C1117.303,1265.299,1067.005,1290.376,1041.856,1327.081C1016.707,1363.786,1016.707,1412.12,1016.707,1436.286L1016.707,1460.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CancelTimeout_ReturnCancelled2_0" d="M1016.707,1518.453L1016.707,1543.286C1016.707,1568.12,1016.707,1617.786,1016.707,1648.12C1016.707,1678.453,1016.707,1689.453,1016.707,1694.953L1016.707,1700.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTimeout_ReturnActive_0" d="M1245.063,1240.222L1270.046,1252.76C1295.028,1265.299,1344.992,1290.376,1369.975,1325.081C1394.957,1359.786,1394.957,1404.12,1394.957,1426.286L1394.957,1448.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TypeCheck_ProcessPending_0" d="M986.792,750.466L1082.319,766.367C1177.847,782.269,1368.902,814.072,1464.429,840.64C1559.957,867.208,1559.957,888.542,1559.957,907.875C1559.957,927.208,1559.957,944.542,1559.957,965.801C1559.957,987.06,1559.957,1012.245,1559.957,1039.43C1559.957,1066.615,1559.957,1095.799,1559.957,1126.264C1559.957,1156.729,1559.957,1188.474,1559.957,1220.219C1559.957,1251.964,1559.957,1283.708,1559.957,1328.914C1559.957,1374.12,1559.957,1432.786,1559.957,1491.453C1559.957,1550.12,1559.957,1608.786,1559.957,1650.786C1559.957,1692.786,1559.957,1718.12,1559.957,1741.453C1559.957,1764.786,1559.957,1786.12,1534.787,1802.798C1509.617,1819.477,1459.277,1831.5,1434.107,1837.512L1408.937,1843.524"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProcessPending_PendingResult_0" d="M1292.004,1898.453L1292.004,1904.62C1292.004,1910.786,1292.004,1923.12,1292.074,1932.87C1292.144,1942.62,1292.285,1949.787,1292.355,1953.37L1292.425,1956.954"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PendingResult_ReturnClosed2_0" d="M1251.673,2025.341L1206.624,2038.23C1161.574,2051.118,1071.474,2076.895,1026.425,2095.283C981.375,2113.672,981.375,2124.672,981.375,2130.172L981.375,2135.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PendingResult_GetLastPrice_0" d="M1294.193,2064.483L1294.324,2070.848C1294.454,2077.212,1294.715,2089.942,1294.846,2101.807C1294.977,2113.672,1294.977,2124.672,1294.977,2130.172L1294.977,2135.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetLastPrice_CloseTimeout_0" d="M1294.977,2217.672L1294.977,2221.839C1294.977,2226.005,1294.977,2234.339,1294.977,2242.005C1294.977,2249.672,1294.977,2256.672,1294.977,2260.172L1294.977,2263.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTimeout_ReturnClosed3_0" d="M1294.977,2345.672L1294.977,2349.839C1294.977,2354.005,1294.977,2362.339,1294.977,2370.005C1294.977,2377.672,1294.977,2384.672,1294.977,2388.172L1294.977,2391.672"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(536.01953125, 353.578125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(803.00390625, 353.578125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(678.625, 634.359375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(927.3828125, 634.359375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(559.7890625, 845.875)" class="edgeLabel"><g transform="translate(-35.9453125, -12)" class="label"><foreignObject height="24" width="71.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>scheduled</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(141.703125, 1124.984375)" class="edgeLabel"><g transform="translate(-34.3984375, -12)" class="label"><foreignObject height="24" width="68.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>cancelled</p></span></div></foreignObject></g></g><g transform="translate(462.1328125, 1124.984375)" class="edgeLabel"><g transform="translate(-33.734375, -12)" class="label"><foreignObject height="24" width="67.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>activated</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(307.44140625, 1667.453125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(666.5390625, 1667.453125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1205.83203125, 1124.984375)" class="edgeLabel"><g transform="translate(-43.8828125, -12)" class="label"><foreignObject height="24" width="87.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>still_waiting</p></span></div></foreignObject></g></g><g transform="translate(1016.70703125, 1315.453125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1394.95703125, 1315.453125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(1559.95703125, 1220.21875)" class="edgeLabel"><g transform="translate(-28.3203125, -12)" class="label"><foreignObject height="24" width="56.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>pending</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(981.375, 2102.671875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(1294.9765625, 2102.671875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(669.51171875, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>backtest(symbol, strategyName, candles)</p></span></div></foreignObject></g></g><g transform="translate(669.51171875, 226.2890625)" id="flowchart-ValidateContext-1" class="node default"><polygon transform="translate(-90.2890625,90.2890625)" class="label-container" points="90.2890625,0 180.578125,-90.2890625 90.2890625,-180.578125 0,-90.2890625"/><g transform="translate(-63.2890625, -12)" style="" class="label"><rect/><foreignObject height="24" width="126.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>backtest context?</p></span></div></foreignObject></g></g><g transform="translate(536.01953125, 493.96875)" id="flowchart-ThrowError1-3" class="node default"><rect height="78" width="227.1875" y="-39" x="-113.59375" style="" class="basic label-container"/><g transform="translate(-83.59375, -24)" style="" class="label"><rect/><foreignObject height="48" width="167.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>throw Error:<br />'running in live context'</p></span></div></foreignObject></g></g><g transform="translate(803.00390625, 493.96875)" id="flowchart-HasSignal-5" class="node default"><polygon transform="translate(-103.390625,103.390625)" class="label-container" points="103.390625,0 206.78125,-103.390625 103.390625,-206.78125 0,-103.390625"/><g transform="translate(-64.390625, -24)" style="" class="label"><rect/><foreignObject height="48" width="128.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>_pendingSignal ||<br />_scheduledSignal?</p></span></div></foreignObject></g></g><g transform="translate(678.625, 740.1171875)" id="flowchart-ThrowError2-7" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>throw Error:<br />'no pending or scheduled signal'</p></span></div></foreignObject></g></g><g transform="translate(927.3828125, 740.1171875)" id="flowchart-TypeCheck-9" class="node default"><polygon transform="translate(-68.7578125,68.7578125)" class="label-container" points="68.7578125,0 137.515625,-68.7578125 68.7578125,-137.515625 0,-68.7578125"/><g transform="translate(-41.7578125, -12)" style="" class="label"><rect/><foreignObject height="24" width="83.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>signal type?</p></span></div></foreignObject></g></g><g transform="translate(559.7890625, 909.875)" id="flowchart-ProcessScheduled-11" class="node default"><rect height="54" width="371.8125" y="-27" x="-185.90625" style="" class="basic label-container"/><g transform="translate(-155.90625, -12)" style="" class="label"><rect/><foreignObject height="24" width="311.8125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PROCESS_SCHEDULED_SIGNAL_CANDLES_FN</p></span></div></foreignObject></g></g><g transform="translate(559.7890625, 1037.4296875)" id="flowchart-ScheduledResult-13" class="node default"><polygon transform="translate(-50.5546875,50.5546875)" class="label-container" points="50.5546875,0 101.109375,-50.5546875 50.5546875,-101.109375 0,-50.5546875"/><g transform="translate(-23.5546875, -12)" style="" class="label"><rect/><foreignObject height="24" width="47.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result?</p></span></div></foreignObject></g></g><g transform="translate(141.703125, 1220.21875)" id="flowchart-ReturnCancelled-15" class="node default"><rect height="78" width="267.40625" y="-39" x="-133.703125" style="" class="basic label-container"/><g transform="translate(-103.703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="207.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultCancelled</p></span></div></foreignObject></g></g><g transform="translate(462.1328125, 1220.21875)" id="flowchart-SliceCandles-17" class="node default"><rect height="102" width="273.453125" y="-51" x="-136.7265625" style="" class="basic label-container"/><g transform="translate(-106.7265625, -36)" style="" class="label"><rect/><foreignObject height="72" width="213.453125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>remainingCandles =<br />candles.slice(activationIndex + 1)</p></span></div></foreignObject></g></g><g transform="translate(462.1328125, 1491.453125)" id="flowchart-CheckRemaining-19" class="node default"><polygon transform="translate(-139,139)" class="label-container" points="139,0 278,-139 139,-278 0,-139"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>remainingCandles.length &gt; 0?</p></span></div></foreignObject></g></g><g transform="translate(307.44140625, 1743.453125)" id="flowchart-CalculateLastPrice-21" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>lastPrice = GET_AVG_PRICE_FN</p></span></div></foreignObject></g></g><g transform="translate(307.44140625, 1871.453125)" id="flowchart-CloseImmediate-23" class="node default"><rect height="78" width="365.78125" y="-39" x="-182.890625" style="" class="basic label-container"/><g transform="translate(-152.890625, -24)" style="" class="label"><rect/><foreignObject height="48" width="305.78125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CLOSE_PENDING_SIGNAL_IN_BACKTEST_FN<br />('time_expired')</p></span></div></foreignObject></g></g><g transform="translate(307.44140625, 2013.0625)" id="flowchart-ReturnClosed1-25" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultClosed</p></span></div></foreignObject></g></g><g transform="translate(666.5390625, 1743.453125)" id="flowchart-UpdateCandles-27" class="node default"><rect height="54" width="258.765625" y="-27" x="-129.3828125" style="" class="basic label-container"/><g transform="translate(-99.3828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="198.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>candles = remainingCandles</p></span></div></foreignObject></g></g><g transform="translate(1292.00390625, 1871.453125)" id="flowchart-ProcessPending-29" class="node default"><rect height="54" width="351.84375" y="-27" x="-175.921875" style="" class="basic label-container"/><g transform="translate(-145.921875, -12)" style="" class="label"><rect/><foreignObject height="24" width="291.84375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PROCESS_PENDING_SIGNAL_CANDLES_FN</p></span></div></foreignObject></g></g><g transform="translate(1205.83203125, 1220.21875)" id="flowchart-CheckTimeout-31" class="node default"><polygon transform="translate(-58.234375,58.234375)" class="label-container" points="58.234375,0 116.46875,-58.234375 58.234375,-116.46875 0,-58.234375"/><g transform="translate(-31.234375, -12)" style="" class="label"><rect/><foreignObject height="24" width="62.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>timeout?</p></span></div></foreignObject></g></g><g transform="translate(1016.70703125, 1491.453125)" id="flowchart-CancelTimeout-33" class="node default"><rect height="54" width="396.5" y="-27" x="-198.25" style="" class="basic label-container"/><g transform="translate(-168.25, -12)" style="" class="label"><rect/><foreignObject height="24" width="336.5"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CANCEL_SCHEDULED_SIGNAL_IN_BACKTEST_FN</p></span></div></foreignObject></g></g><g transform="translate(1016.70703125, 1743.453125)" id="flowchart-ReturnCancelled2-35" class="node default"><rect height="78" width="267.40625" y="-39" x="-133.703125" style="" class="basic label-container"/><g transform="translate(-103.703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="207.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultCancelled</p></span></div></foreignObject></g></g><g transform="translate(1394.95703125, 1491.453125)" id="flowchart-ReturnActive-37" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultActive</p></span></div></foreignObject></g></g><g transform="translate(1292.00390625, 2013.0625)" id="flowchart-PendingResult-41" class="node default"><polygon transform="translate(-52.609375,52.609375)" class="label-container" points="52.609375,0 105.21875,-52.609375 52.609375,-105.21875 0,-52.609375"/><g transform="translate(-25.609375, -12)" style="" class="label"><rect/><foreignObject height="24" width="51.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>closed?</p></span></div></foreignObject></g></g><g transform="translate(981.375, 2178.671875)" id="flowchart-ReturnClosed2-43" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultClosed</p></span></div></foreignObject></g></g><g transform="translate(1294.9765625, 2178.671875)" id="flowchart-GetLastPrice-45" class="node default"><rect height="78" width="267.203125" y="-39" x="-133.6015625" style="" class="basic label-container"/><g transform="translate(-103.6015625, -24)" style="" class="label"><rect/><foreignObject height="48" width="207.203125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>lastPrice = GET_AVG_PRICE_FN(candles)</p></span></div></foreignObject></g></g><g transform="translate(1294.9765625, 2306.671875)" id="flowchart-CloseTimeout-47" class="node default"><rect height="78" width="365.78125" y="-39" x="-182.890625" style="" class="basic label-container"/><g transform="translate(-152.890625, -24)" style="" class="label"><rect/><foreignObject height="48" width="305.78125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CLOSE_PENDING_SIGNAL_IN_BACKTEST_FN<br />('time_expired')</p></span></div></foreignObject></g></g><g transform="translate(1294.9765625, 2434.671875)" id="flowchart-ReturnClosed3-49" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>return IStrategyTickResultClosed</p></span></div></foreignObject></g></g></g></g></g></svg>