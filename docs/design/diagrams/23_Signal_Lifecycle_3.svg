<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 936.61328125 2494.453125" style="max-width: 936.613px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_CheckSignal_0" d="M241.211,86L241.211,94.167C241.211,102.333,241.211,118.667,241.211,130.333C241.211,142,241.211,149,241.211,152.5L241.211,156"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSignal_ThrowNoSignal_0" d="M182.831,214L169.497,220.167C156.163,226.333,129.496,238.667,116.162,250.333C102.828,262,102.828,273,102.828,278.5L102.828,284"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSignal_CheckBacktest_0" d="M299.591,214L312.925,220.167C326.259,226.333,352.926,238.667,366.26,252.333C379.594,266,379.594,281,379.594,288.5L379.594,296"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckBacktest_ThrowLiveContext_0" d="M333.003,354L318.911,362.167C304.818,370.333,276.634,386.667,262.542,400.333C248.449,414,248.449,425,248.449,430.5L248.449,436"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckBacktest_CheckLength_0" d="M426.185,354L440.277,362.167C454.369,370.333,482.554,386.667,496.646,402.333C510.738,418,510.738,433,510.738,440.5L510.738,448"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckLength_WarnLength_0" d="M541.717,506L551.087,514.167C560.457,522.333,579.197,538.667,588.567,552.333C597.938,566,597.938,577,597.938,582.5L597.938,588"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckLength_LoopStart_0" d="M479.76,506L470.39,514.167C461.019,522.333,442.279,538.667,432.909,561.5C423.539,584.333,423.539,613.667,423.539,641C423.539,668.333,423.539,693.667,429.954,710.159C436.368,726.65,449.197,734.301,455.612,738.126L462.026,741.951"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WarnLength_LoopStart_0" d="M597.938,694L597.938,698.167C597.938,702.333,597.938,710.667,591.523,718.659C585.108,726.65,572.279,734.301,565.865,738.126L559.45,741.951"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopStart_SliceCandles_0" d="M380.91,791.061L346.461,796.384C312.012,801.707,243.113,812.354,208.664,821.177C174.215,830,174.215,837,174.215,840.5L174.215,844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SliceCandles_CalcVWAP_0" d="M174.215,950L174.215,954.167C174.215,958.333,174.215,966.667,174.215,974.333C174.215,982,174.215,989,174.215,992.5L174.215,996"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcVWAP_CheckTPSL_0" d="M174.215,1078L174.215,1082.167C174.215,1086.333,174.215,1094.667,174.215,1102.333C174.215,1110,174.215,1117,174.215,1120.5L174.215,1124"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTPSL_CloseMet_0" d="M174.215,1206L174.215,1210.167C174.215,1214.333,174.215,1222.667,174.285,1230.417C174.355,1238.167,174.496,1245.334,174.566,1248.917L174.636,1252.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseMet_CalcPnL_0" d="M162.804,1406.246L161.312,1414.314C159.82,1422.383,156.836,1438.519,155.344,1452.088C153.852,1465.656,153.852,1476.656,153.852,1482.156L153.852,1487.656"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseMet_ContinueLoop_0" d="M218.517,1374.354L234.365,1387.738C250.213,1401.122,281.909,1427.889,309.986,1449.08C338.062,1470.272,362.519,1485.888,374.747,1493.696L386.975,1501.504"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ContinueLoop_LoopStart_0" d="M460.381,1503.656L468.774,1495.49C477.167,1487.323,493.952,1470.99,502.345,1443.185C510.738,1415.38,510.738,1376.104,510.738,1338.828C510.738,1301.552,510.738,1266.276,510.738,1237.971C510.738,1209.667,510.738,1188.333,510.738,1167C510.738,1145.667,510.738,1124.333,510.738,1103C510.738,1081.667,510.738,1060.333,510.738,1039C510.738,1017.667,510.738,996.333,510.738,973C510.738,949.667,510.738,924.333,510.738,899C510.738,873.667,510.738,848.333,510.738,832.167C510.738,816,510.738,809,510.738,805.5L510.738,802"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcPnL_LogClose_0" d="M153.852,1569.656L153.852,1573.823C153.852,1577.99,153.852,1586.323,153.852,1595.99C153.852,1605.656,153.852,1616.656,153.852,1622.156L153.852,1627.656"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LogClose_WarnStopLoss_0" d="M153.852,1685.656L153.852,1691.823C153.852,1697.99,153.852,1710.323,153.922,1720.073C153.992,1729.823,154.133,1736.99,154.203,1740.574L154.273,1744.157"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WarnStopLoss_WarnLoss_0" d="M222.22,1931.085L242.756,1948.479C263.291,1965.874,304.362,2000.664,324.898,2023.558C345.434,2046.453,345.434,2057.453,345.434,2062.953L345.434,2068.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WarnStopLoss_CallOnClose_0" d="M110.542,1955.144L103.227,1968.529C95.912,1981.914,81.282,2008.683,73.967,2034.735C66.652,2060.786,66.652,2086.12,66.652,2109.453C66.652,2132.786,66.652,2154.12,108.971,2170.799C151.289,2187.479,235.926,2199.504,278.245,2205.517L320.563,2211.53"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WarnLoss_CallOnClose_0" d="M345.434,2150.453L345.434,2154.62C345.434,2158.786,345.434,2167.12,351.848,2175.112C358.263,2183.104,371.092,2190.754,377.506,2194.579L383.921,2198.404"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CallOnClose_ClearPersist_0" d="M432.633,2254.453L432.633,2258.62C432.633,2262.786,432.633,2271.12,432.633,2278.786C432.633,2286.453,432.633,2293.453,432.633,2296.953L432.633,2300.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ClearPersist_ReturnClosed_0" d="M432.633,2358.453L432.633,2362.62C432.633,2366.786,432.633,2375.12,432.633,2382.786C432.633,2390.453,432.633,2397.453,432.633,2400.953L432.633,2404.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopStart_TimeExpired_0" d="M614.935,798L631.015,802.167C647.095,806.333,679.254,814.667,695.334,831.5C711.414,848.333,711.414,873.667,711.414,899C711.414,924.333,711.414,949.667,711.414,973C711.414,996.333,711.414,1017.667,711.414,1039C711.414,1060.333,711.414,1081.667,711.414,1103C711.414,1124.333,711.414,1145.667,711.414,1167C711.414,1188.333,711.414,1209.667,711.414,1230.805C711.414,1251.943,711.414,1272.885,711.414,1283.357L711.414,1293.828"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TimeExpired_CalcLastVWAP_0" d="M711.414,1375.828L711.414,1388.966C711.414,1402.104,711.414,1428.38,711.414,1447.018C711.414,1465.656,711.414,1476.656,711.414,1482.156L711.414,1487.656"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcLastVWAP_CalcPnLExpired_0" d="M711.414,1569.656L711.414,1573.823C711.414,1577.99,711.414,1586.323,711.414,1593.99C711.414,1601.656,711.414,1608.656,711.414,1612.156L711.414,1615.656"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcPnLExpired_CheckNegative_0" d="M711.414,1697.656L711.414,1701.823C711.414,1705.99,711.414,1714.323,711.49,1724.895C711.565,1735.466,711.716,1748.276,711.791,1754.681L711.867,1761.086"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckNegative_WarnTimeExpired_0" d="M749.809,1944.129L757.943,1959.35C766.077,1974.57,782.345,2005.012,790.479,2025.732C798.613,2046.453,798.613,2057.453,798.613,2062.953L798.613,2068.453"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckNegative_CallOnClose_0" d="M653.208,1923.318L630.979,1942.007C608.75,1960.696,564.291,1998.075,542.061,2029.431C519.832,2060.786,519.832,2086.12,519.832,2109.453C519.832,2132.786,519.832,2154.12,513.417,2168.612C507.003,2183.104,494.174,2190.754,487.759,2194.579L481.345,2198.404"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WarnTimeExpired_CallOnClose_0" d="M798.613,2150.453L798.613,2154.62C798.613,2158.786,798.613,2167.12,756.295,2177.299C713.976,2187.479,629.339,2199.504,587.021,2205.517L544.702,2211.53"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(102.828125, 251)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(379.59375, 251)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(248.44921875, 403)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(510.73828125, 403)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(597.9375, 555)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(423.5390625, 643)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(153.8515625, 1454.65625)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(313.60546875, 1454.65625)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(345.43359375, 2035.453125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(66.65234375, 2111.453125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(711.4140625, 1039)" class="edgeLabel"><g transform="translate(-76.6953125, -12)" class="label"><foreignObject height="24" width="153.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>All candles processed</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(798.61328125, 2035.453125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(519.83203125, 2111.453125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(241.2109375, 59)" id="flowchart-Start-0" class="node default"><rect height="54" width="235.09375" y="-27" x="-117.546875" style="" class="basic label-container"/><g transform="translate(-87.546875, -12)" style="" class="label"><rect/><foreignObject height="24" width="175.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>backtest(candles) called</p></span></div></foreignObject></g></g><g transform="translate(241.2109375, 187)" id="flowchart-CheckSignal-1" class="node default"><rect height="54" width="218.484375" y="-27" x="-109.2421875" style="" class="basic label-container"/><g transform="translate(-79.2421875, -12)" style="" class="label"><rect/><foreignObject height="24" width="158.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>_pendingSignal exists?</p></span></div></foreignObject></g></g><g transform="translate(102.828125, 327)" id="flowchart-ThrowNoSignal-2" class="node default"><rect height="78" width="189.65625" y="-39" x="-94.828125" style="fill:#ffebee !important" class="basic label-container"/><g transform="translate(-64.828125, -24)" style="" class="label"><rect/><foreignObject height="48" width="129.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Throw Error:<br />'no pending signal'</p></span></div></foreignObject></g></g><g transform="translate(379.59375, 327)" id="flowchart-CheckBacktest-3" class="node default"><rect height="54" width="263.875" y="-27" x="-131.9375" style="" class="basic label-container"/><g transform="translate(-101.9375, -12)" style="" class="label"><rect/><foreignObject height="24" width="203.875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>execution.context.backtest?</p></span></div></foreignObject></g></g><g transform="translate(248.44921875, 479)" id="flowchart-ThrowLiveContext-4" class="node default"><rect height="78" width="227.1875" y="-39" x="-113.59375" style="fill:#ffebee !important" class="basic label-container"/><g transform="translate(-83.59375, -24)" style="" class="label"><rect/><foreignObject height="48" width="167.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Throw Error:<br />'running in live context'</p></span></div></foreignObject></g></g><g transform="translate(510.73828125, 479)" id="flowchart-CheckLength-5" class="node default"><rect height="54" width="197.390625" y="-27" x="-98.6953125" style="" class="basic label-container"/><g transform="translate(-68.6953125, -12)" style="" class="label"><rect/><foreignObject height="24" width="137.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>candles.length &lt; 5?</p></span></div></foreignObject></g></g><g transform="translate(597.9375, 643)" id="flowchart-WarnLength-6" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>logger.warn:<br />'Expected at least 5 candles'</p></span></div></foreignObject></g></g><g transform="translate(510.73828125, 771)" id="flowchart-LoopStart-7" class="node default"><rect height="54" width="259.65625" y="-27" x="-129.828125" style="" class="basic label-container"/><g transform="translate(-99.828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="199.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Loop i = 4 to candles.length</p></span></div></foreignObject></g></g><g transform="translate(174.21484375, 899)" id="flowchart-SliceCandles-8" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>recentCandles = candles[i-4 to i]<br />(5 candles)</p></span></div></foreignObject></g></g><g transform="translate(174.21484375, 1039)" id="flowchart-CalcVWAP-9" class="node default"><rect height="78" width="315.53125" y="-39" x="-157.765625" style="" class="basic label-container"/><g transform="translate(-127.765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="255.53125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>averagePrice = GET_AVG_PRICE_FN(recentCandles)</p></span></div></foreignObject></g></g><g transform="translate(174.21484375, 1167)" id="flowchart-CheckTPSL-10" class="node default"><rect height="78" width="227.625" y="-39" x="-113.8125" style="" class="basic label-container"/><g transform="translate(-83.8125, -24)" style="" class="label"><rect/><foreignObject height="48" width="167.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Check TP/SL conditions<br />(same as tick logic)</p></span></div></foreignObject></g></g><g transform="translate(174.21484375, 1336.828125)" id="flowchart-CloseMet-11" class="node default"><polygon transform="translate(-80.828125,80.828125)" class="label-container" points="80.828125,0 161.65625,-80.828125 80.828125,-161.65625 0,-80.828125"/><g transform="translate(-53.828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="107.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Condition met?</p></span></div></foreignObject></g></g><g transform="translate(153.8515625, 1530.65625)" id="flowchart-CalcPnL-12" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>toProfitLossDto(signal, averagePrice)</p></span></div></foreignObject></g></g><g transform="translate(153.8515625, 1658.65625)" id="flowchart-LogClose-13" class="node default"><rect height="54" width="211.125" y="-27" x="-105.5625" style="" class="basic label-container"/><g transform="translate(-75.5625, -12)" style="" class="label"><rect/><foreignObject height="24" width="151.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>logger.debug: closing</p></span></div></foreignObject></g></g><g transform="translate(153.8515625, 1873.0546875)" id="flowchart-WarnStopLoss-14" class="node default"><polygon transform="translate(-125.3984375,125.3984375)" class="label-container" points="125.3984375,0 250.796875,-125.3984375 125.3984375,-250.796875 0,-125.3984375"/><g transform="translate(-98.3984375, -12)" style="" class="label"><rect/><foreignObject height="24" width="196.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>closeReason === 'stop_loss'?</p></span></div></foreignObject></g></g><g transform="translate(345.43359375, 2111.453125)" id="flowchart-WarnLoss-15" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>logger.warn: closed with loss</p></span></div></foreignObject></g></g><g transform="translate(432.6328125, 2227.453125)" id="flowchart-CallOnClose-16" class="node default"><rect height="54" width="216.21875" y="-27" x="-108.109375" style="" class="basic label-container"/><g transform="translate(-78.109375, -12)" style="" class="label"><rect/><foreignObject height="24" width="156.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>callbacks.onClose(...)</p></span></div></foreignObject></g></g><g transform="translate(432.6328125, 2331.453125)" id="flowchart-ClearPersist-17" class="node default"><rect height="54" width="218.265625" y="-27" x="-109.1328125" style="" class="basic label-container"/><g transform="translate(-79.1328125, -12)" style="" class="label"><rect/><foreignObject height="24" width="158.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>setPendingSignal(null)</p></span></div></foreignObject></g></g><g transform="translate(432.6328125, 2447.453125)" id="flowchart-ReturnClosed-18" class="node default"><rect height="78" width="260" y="-39" x="-130" style="fill:#e8f5e9 !important" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed</p></span></div></foreignObject></g></g><g transform="translate(432.6328125, 1530.65625)" id="flowchart-ContinueLoop-19" class="node default"><rect height="54" width="197.5625" y="-27" x="-98.78125" style="" class="basic label-container"/><g transform="translate(-68.78125, -12)" style="" class="label"><rect/><foreignObject height="24" width="137.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Continue loop (i++)</p></span></div></foreignObject></g></g><g transform="translate(711.4140625, 1336.828125)" id="flowchart-TimeExpired-20" class="node default"><rect height="78" width="175.140625" y="-39" x="-87.5703125" style="" class="basic label-container"/><g transform="translate(-57.5703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="115.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Loop completed<br />No TP/SL hit</p></span></div></foreignObject></g></g><g transform="translate(711.4140625, 1530.65625)" id="flowchart-CalcLastVWAP-21" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>averagePrice = last 5 candles VWAP</p></span></div></foreignObject></g></g><g transform="translate(711.4140625, 1658.65625)" id="flowchart-CalcPnLExpired-22" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>toProfitLossDto(signal, lastPrice)</p></span></div></foreignObject></g></g><g transform="translate(711.4140625, 1873.0546875)" id="flowchart-CheckNegative-23" class="node default"><polygon transform="translate(-108.46875,108.46875)" class="label-container" points="108.46875,0 216.9375,-108.46875 108.46875,-216.9375 0,-108.46875"/><g transform="translate(-81.46875, -12)" style="" class="label"><rect/><foreignObject height="24" width="162.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>pnl.pnlPercentage &lt; 0?</p></span></div></foreignObject></g></g><g transform="translate(798.61328125, 2111.453125)" id="flowchart-WarnTimeExpired-24" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>logger.warn: closed with loss (time_expired)</p></span></div></foreignObject></g></g><g transform="translate(538.7578125, 59)" id="flowchart-ReturnTimeExpired-25" class="node default"><rect height="102" width="260" y="-51" x="-130" style="fill:#e8f5e9 !important" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed<br />closeReason: 'time_expired'</p></span></div></foreignObject></g></g></g></g></g></svg>