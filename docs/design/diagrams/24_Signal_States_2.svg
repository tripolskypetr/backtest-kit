<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1204.65625 940.6875" style="max-width: 1204.66px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Tick_Result_0" d="M169.016,470.344L173.182,470.344C177.349,470.344,185.682,470.344,193.349,470.344C201.016,470.344,208.016,470.344,211.516,470.344L215.016,470.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Result_Guard1_0" d="M354.5,443.344L377.568,386.926C400.636,330.508,446.771,217.672,473.422,161.324C500.073,104.976,507.24,105.117,510.824,105.187L514.407,105.258"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Result_Guard2_0" d="M376.579,443.344L395.967,427.538C415.355,411.732,454.131,380.12,477.102,364.384C500.073,348.648,507.24,348.789,510.824,348.859L514.407,348.929"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Result_Guard3_0" d="M376.579,497.344L395.967,513.15C415.355,528.956,454.131,560.568,477.102,576.444C500.073,592.32,507.24,592.461,510.824,592.531L514.407,592.601"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Result_Guard4_0" d="M354.5,497.344L377.568,553.762C400.636,610.18,446.771,723.016,473.422,779.504C500.073,835.992,507.24,836.133,510.824,836.203L514.407,836.273"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Guard1_Action1_0" d="M712.078,105.336L732.142,105.253C752.206,105.169,792.333,105.003,831.878,104.919C871.422,104.836,910.383,104.836,929.863,104.836L949.344,104.836"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Guard2_Action2_0" d="M712.078,349.008L732.142,348.924C752.206,348.841,792.333,348.674,835.501,348.591C878.669,348.508,924.878,348.508,947.982,348.508L971.086,348.508"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Guard3_Action3_0" d="M712.078,592.68L732.142,592.596C752.206,592.513,792.333,592.346,835.501,592.263C878.669,592.18,924.878,592.18,947.982,592.18L971.086,592.18"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Guard4_Action4_0" d="M712.078,836.352L732.142,836.268C752.206,836.185,792.333,836.018,833.641,835.935C874.948,835.852,917.435,835.852,938.678,835.852L959.922,835.852"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(832.4609375, 104.8359375)" class="edgeLabel"><g transform="translate(-81.890625, -24)" class="label"><foreignObject height="48" width="163.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>TypeScript narrows to<br />IStrategyTickResultIdle</p></span></div></foreignObject></g></g><g transform="translate(832.4609375, 348.5078125)" class="edgeLabel"><g transform="translate(-95.8828125, -24)" class="label"><foreignObject height="48" width="191.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>TypeScript narrows to<br />IStrategyTickResultOpened</p></span></div></foreignObject></g></g><g transform="translate(832.4609375, 592.1796875)" class="edgeLabel"><g transform="translate(-90.8984375, -24)" class="label"><foreignObject height="48" width="181.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>TypeScript narrows to<br />IStrategyTickResultActive</p></span></div></foreignObject></g></g><g transform="translate(832.4609375, 835.8515625)" class="edgeLabel"><g transform="translate(-91.9765625, -24)" class="label"><foreignObject height="48" width="183.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>TypeScript narrows to<br />IStrategyTickResultClosed</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(88.5078125, 470.34375)" id="flowchart-Tick-0" class="node default"><rect height="54" width="161.015625" y="-27" x="-80.5078125" style="" class="basic label-container"/><g transform="translate(-50.5078125, -12)" style="" class="label"><rect/><foreignObject height="24" width="101.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>strategy.tick()</p></span></div></foreignObject></g></g><g transform="translate(343.4609375, 470.34375)" id="flowchart-Result-1" class="node default"><rect height="54" width="248.890625" y="-27" x="-124.4453125" style="" class="basic label-container"/><g transform="translate(-94.4453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="188.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result: IStrategyTickResult</p></span></div></foreignObject></g></g><g transform="translate(614.7421875, 104.8359375)" id="flowchart-Guard1-5" class="node default"><polygon transform="translate(-96.8359375,96.8359375)" class="label-container" points="96.8359375,0 193.671875,-96.8359375 96.8359375,-193.671875 0,-96.8359375"/><g transform="translate(-45.8359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="91.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result.action<br />===<br />'idle'</p></span></div></foreignObject></g></g><g transform="translate(614.7421875, 348.5078125)" id="flowchart-Guard2-7" class="node default"><polygon transform="translate(-96.8359375,96.8359375)" class="label-container" points="96.8359375,0 193.671875,-96.8359375 96.8359375,-193.671875 0,-96.8359375"/><g transform="translate(-45.8359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="91.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result.action<br />===<br />'opened'</p></span></div></foreignObject></g></g><g transform="translate(614.7421875, 592.1796875)" id="flowchart-Guard3-9" class="node default"><polygon transform="translate(-96.8359375,96.8359375)" class="label-container" points="96.8359375,0 193.671875,-96.8359375 96.8359375,-193.671875 0,-96.8359375"/><g transform="translate(-45.8359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="91.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result.action<br />===<br />'active'</p></span></div></foreignObject></g></g><g transform="translate(614.7421875, 835.8515625)" id="flowchart-Guard4-11" class="node default"><polygon transform="translate(-96.8359375,96.8359375)" class="label-container" points="96.8359375,0 193.671875,-96.8359375 96.8359375,-193.671875 0,-96.8359375"/><g transform="translate(-45.8359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="91.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result.action<br />===<br />'closed'</p></span></div></foreignObject></g></g><g transform="translate(1075, 104.8359375)" id="flowchart-Action1-13" class="node default"><rect height="78" width="243.3125" y="-39" x="-121.65625" style="" class="basic label-container"/><g transform="translate(-91.65625, -24)" style="" class="label"><rect/><foreignObject height="48" width="183.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Access result.signal (null)<br />result.currentPrice</p></span></div></foreignObject></g></g><g transform="translate(1075, 348.5078125)" id="flowchart-Action2-15" class="node default"><rect height="78" width="199.828125" y="-39" x="-99.9140625" style="" class="basic label-container"/><g transform="translate(-69.9140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="139.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Access result.signal<br />result.currentPrice</p></span></div></foreignObject></g></g><g transform="translate(1075, 592.1796875)" id="flowchart-Action3-17" class="node default"><rect height="78" width="199.828125" y="-39" x="-99.9140625" style="" class="basic label-container"/><g transform="translate(-69.9140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="139.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Access result.signal<br />result.currentPrice</p></span></div></foreignObject></g></g><g transform="translate(1075, 835.8515625)" id="flowchart-Action4-19" class="node default"><rect height="126" width="222.15625" y="-63" x="-111.078125" style="" class="basic label-container"/><g transform="translate(-81.078125, -48)" style="" class="label"><rect/><foreignObject height="96" width="162.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Access result.signal<br />result.closeReason<br />result.pnl<br />result.closeTimestamp</p></span></div></foreignObject></g></g></g></g></g></svg>