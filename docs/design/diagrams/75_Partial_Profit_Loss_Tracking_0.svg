<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1044.8828125 1456" style="max-width: 1044.88px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="Consumers" class="cluster"><rect height="152" width="548.671875" y="1296" x="29.43359375" style=""/><g transform="translate(265.35546875, 1296)" class="cluster-label"><foreignObject height="24" width="76.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Consumers</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph4" class="cluster"><rect height="354" width="406.0390625" y="1094" x="630.84375" style=""/><g transform="translate(771.23046875, 1094)" class="cluster-label"><foreignObject height="24" width="125.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Persistence Layer</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph3" class="cluster"><rect height="152" width="602.84375" y="1094" x="8" style=""/><g transform="translate(256.2734375, 1094)" class="cluster-label"><foreignObject height="24" width="106.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event Emission</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="176" width="827.49609375" y="844" x="62.7578125" style=""/><g transform="translate(420.154296875, 844)" class="cluster-label"><foreignObject height="24" width="112.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level Detection</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="456" width="833.59765625" y="314" x="203.28515625" style=""/><g transform="translate(543.646484375, 314)" class="cluster-label"><foreignObject height="24" width="152.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Partial Tracking Logic</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="232" width="356.4765625" y="8" x="586.4453125" style=""/><g transform="translate(703.33203125, 8)" class="cluster-label"><foreignObject height="24" width="122.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Signal Monitoring</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CS_MONITOR_0" d="M785.445,87L785.445,91.167C785.445,95.333,785.445,103.667,785.445,111.333C785.445,119,785.445,126,785.445,129.5L785.445,133"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MONITOR_PGS_0" d="M688.555,215L678.203,219.167C667.852,223.333,647.148,231.667,636.797,242C626.445,252.333,626.445,264.667,626.445,277C626.445,289.333,626.445,301.667,636.178,311.751C645.912,321.835,665.378,329.671,675.111,333.589L684.844,337.506"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MONITOR_PGS_2" d="M785.445,215L785.445,219.167C785.445,223.333,785.445,231.667,785.445,242C785.445,252.333,785.445,264.667,785.445,277C785.445,289.333,785.445,301.667,785.445,311.333C785.445,321,785.445,328,785.445,331.5L785.445,335"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PGS_PCS_0" d="M785.445,417L785.445,421.167C785.445,425.333,785.445,433.667,785.445,441.333C785.445,449,785.445,456,785.445,459.5L785.445,463"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PCS_CP_0" d="M785.445,545L785.445,553.167C785.445,561.333,785.445,577.667,785.445,593.333C785.445,609,785.445,624,785.445,631.5L785.445,639"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CP_PROFIT_0" d="M655.445,712.223L586.752,721.853C518.059,731.482,380.672,750.741,311.979,766.537C243.285,782.333,243.285,794.667,243.285,807C243.285,819.333,243.285,831.667,243.285,841.333C243.285,851,243.285,858,243.285,861.5L243.285,865"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CP_LOSS_0" d="M723.373,745L718.302,749.167C713.23,753.333,703.088,761.667,698.017,772C692.945,782.333,692.945,794.667,692.945,807C692.945,819.333,692.945,831.667,692.945,841.333C692.945,851,692.945,858,692.945,861.5L692.945,865"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PROFIT_PPE_0" d="M188.135,995L184.487,999.167C180.84,1003.333,173.545,1011.667,169.897,1022C166.25,1032.333,166.25,1044.667,166.25,1057C166.25,1069.333,166.25,1081.667,166.25,1093.333C166.25,1105,166.25,1116,166.25,1121.5L166.25,1127"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LOSS_PLE_0" d="M577.259,995L569.608,999.167C561.956,1003.333,546.654,1011.667,539.003,1022C531.352,1032.333,531.352,1044.667,519.072,1057C506.792,1069.333,482.232,1081.667,469.952,1093.333C457.672,1105,457.672,1116,457.672,1121.5L457.672,1127"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PROFIT_PERSIST_0" d="M351.183,995L358.319,999.167C365.456,1003.333,379.728,1011.667,386.864,1022C394,1032.333,394,1044.667,449.547,1057C505.094,1069.333,616.188,1081.667,674.119,1091.444C732.05,1101.221,736.819,1108.441,739.203,1112.052L741.587,1115.662"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LOSS_PERSIST_0" d="M767.979,995L772.941,999.167C777.904,1003.333,787.829,1011.667,792.791,1022C797.754,1032.333,797.754,1044.667,797.754,1057C797.754,1069.333,797.754,1081.667,796.814,1091.356C795.874,1101.045,793.994,1108.09,793.054,1111.613L792.114,1115.135"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PERSIST_DISK_0" d="M777.473,1221L777.473,1225.167C777.473,1229.333,777.473,1237.667,777.473,1246C777.473,1254.333,777.473,1262.667,777.473,1271C777.473,1279.333,777.473,1287.667,784.796,1297.588C792.12,1307.51,806.767,1319.019,814.091,1324.774L821.414,1330.529"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PPE_PMS_0" d="M144.884,1209L141.505,1215.167C138.127,1221.333,131.37,1233.667,127.992,1244C124.613,1254.333,124.613,1262.667,124.613,1271C124.613,1279.333,124.613,1287.667,127.247,1295.461C129.88,1303.254,135.147,1310.509,137.781,1314.136L140.414,1317.763"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PLE_PMS_0" d="M389.849,1209L379.125,1215.167C368.401,1221.333,346.952,1233.667,336.228,1244C325.504,1254.333,325.504,1262.667,325.504,1271C325.504,1279.333,325.504,1287.667,318.106,1295.692C310.709,1303.717,295.914,1311.433,288.517,1315.292L281.119,1319.15"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PPE_USER_0" d="M234.073,1209L244.797,1215.167C255.521,1221.333,276.97,1233.667,287.694,1244C298.418,1254.333,298.418,1262.667,298.418,1271C298.418,1279.333,298.418,1287.667,309.65,1297.692C320.882,1307.717,343.346,1319.433,354.578,1325.292L365.81,1331.15"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PLE_USER_0" d="M479.966,1209L483.491,1215.167C487.017,1221.333,494.067,1233.667,497.592,1244C501.117,1254.333,501.117,1262.667,501.117,1271C501.117,1279.333,501.117,1287.667,496.893,1297.467C492.669,1307.267,484.221,1318.533,479.997,1324.166L475.773,1329.8"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DISK_CP_0" d="M913.322,1333L919.509,1326.833C925.696,1320.667,938.071,1308.333,944.258,1298C950.445,1287.667,950.445,1279.333,950.445,1271C950.445,1262.667,950.445,1254.333,950.445,1237.5C950.445,1220.667,950.445,1195.333,950.445,1170C950.445,1144.667,950.445,1119.333,950.445,1100.5C950.445,1081.667,950.445,1069.333,950.445,1057C950.445,1044.667,950.445,1032.333,950.445,1011.5C950.445,990.667,950.445,961.333,950.445,932C950.445,902.667,950.445,873.333,950.445,852.5C950.445,831.667,950.445,819.333,950.445,807C950.445,794.667,950.445,782.333,942.005,772.279C933.564,762.224,916.683,754.449,908.243,750.561L899.802,746.673"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(626.4453125, 277)" class="edgeLabel"><g transform="translate(-69.5, -12)" class="label"><foreignObject height="24" width="139"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>revenuePercent &gt; 0</p></span></div></foreignObject></g></g><g transform="translate(785.4453125, 277)" class="edgeLabel"><g transform="translate(-69.5, -12)" class="label"><foreignObject height="24" width="139"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>revenuePercent &lt; 0</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(785.4453125, 594)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>getPartial(signalId, backtest)</p></span></div></foreignObject></g></g><g transform="translate(243.28515625, 807)" class="edgeLabel"><g transform="translate(-26.1484375, -12)" class="label"><foreignObject height="24" width="52.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>profit()</p></span></div></foreignObject></g></g><g transform="translate(692.9453125, 807)" class="edgeLabel"><g transform="translate(-19.0078125, -12)" class="label"><foreignObject height="24" width="38.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>loss()</p></span></div></foreignObject></g></g><g transform="translate(166.25, 1057)" class="edgeLabel"><g transform="translate(-66.4375, -12)" class="label"><foreignObject height="24" width="132.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>New level reached</p></span></div></foreignObject></g></g><g transform="translate(531.3515625, 1057)" class="edgeLabel"><g transform="translate(-66.4375, -12)" class="label"><foreignObject height="24" width="132.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>New level reached</p></span></div></foreignObject></g></g><g transform="translate(394, 1057)" class="edgeLabel"><g transform="translate(-50.9140625, -12)" class="label"><foreignObject height="24" width="101.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>State changed</p></span></div></foreignObject></g></g><g transform="translate(797.75390625, 1057)" class="edgeLabel"><g transform="translate(-50.9140625, -12)" class="label"><foreignObject height="24" width="101.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>State changed</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(950.4453125, 1057)" class="edgeLabel"><g transform="translate(-45.140625, -12)" class="label"><foreignObject height="24" width="90.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>waitForInit()</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(785.4453125, 60)" id="flowchart-CS-0" class="node default"><rect height="54" width="204.890625" y="-27" x="-102.4453125" style="" class="basic label-container"/><g transform="translate(-72.4453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="144.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientStrategy.tick()</p></span></div></foreignObject></g></g><g transform="translate(785.4453125, 176)" id="flowchart-MONITOR-1" class="node default"><rect height="78" width="244.953125" y="-39" x="-122.4765625" style="" class="basic label-container"/><g transform="translate(-92.4765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="184.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Monitor active signals<br />Calculate revenuePercent</p></span></div></foreignObject></g></g><g transform="translate(785.4453125, 378)" id="flowchart-PGS-2" class="node default"><rect height="78" width="204.6875" y="-39" x="-102.34375" style="" class="basic label-container"/><g transform="translate(-72.34375, -24)" style="" class="label"><rect/><foreignObject height="48" width="144.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PartialGlobalService<br />validate + delegate</p></span></div></foreignObject></g></g><g transform="translate(785.4453125, 506)" id="flowchart-PCS-3" class="node default"><rect height="78" width="239.046875" y="-39" x="-119.5234375" style="" class="basic label-container"/><g transform="translate(-89.5234375, -24)" style="" class="label"><rect/><foreignObject height="48" width="179.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PartialConnectionService<br />getPartial() memoized</p></span></div></foreignObject></g></g><g transform="translate(785.4453125, 694)" id="flowchart-CP-4" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientPartial<br />_states: Map&lt;signalId, IPartialState&gt;</p></span></div></foreignObject></g></g><g transform="translate(243.28515625, 932)" id="flowchart-PROFIT-5" class="node default"><rect height="126" width="263.96875" y="-63" x="-131.984375" style="" class="basic label-container"/><g transform="translate(-101.984375, -48)" style="" class="label"><rect/><foreignObject height="96" width="203.96875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HANDLE_PROFIT_FN<br />Check PROFIT_LEVELS[10,20...100]<br />Set-based deduplication</p></span></div></foreignObject></g></g><g transform="translate(692.9453125, 932)" id="flowchart-LOSS-6" class="node default"><rect height="126" width="260" y="-63" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HANDLE_LOSS_FN<br />Check LOSS_LEVELS[10,20...100]<br />Set-based deduplication</p></span></div></foreignObject></g></g><g transform="translate(166.25, 1170)" id="flowchart-PPE-7" class="node default"><rect height="78" width="246.5" y="-39" x="-123.25" style="" class="basic label-container"/><g transform="translate(-93.25, -24)" style="" class="label"><rect/><foreignObject height="48" width="186.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>partialProfitSubject<br />emit PartialProfitContract</p></span></div></foreignObject></g></g><g transform="translate(457.671875, 1170)" id="flowchart-PLE-8" class="node default"><rect height="78" width="236.34375" y="-39" x="-118.171875" style="" class="basic label-container"/><g transform="translate(-88.171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="176.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>partialLossSubject<br />emit PartialLossContract</p></span></div></foreignObject></g></g><g transform="translate(777.47265625, 1170)" id="flowchart-PERSIST-9" class="node default"><rect height="102" width="210.765625" y="-51" x="-105.3828125" style="" class="basic label-container"/><g transform="translate(-75.3828125, -36)" style="" class="label"><rect/><foreignObject height="72" width="150.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PersistPartialAdapter<br />writePartialData()<br />Atomic file writes</p></span></div></foreignObject></g></g><g transform="translate(874.19140625, 1372)" id="flowchart-DISK-10" class="node default"><rect height="78" width="235.75" y="-39" x="-117.875" style="" class="basic label-container"/><g transform="translate(-87.875, -24)" style="" class="label"><rect/><foreignObject height="48" width="175.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>./dump/data/partial/<br />{strategy}/{symbol}.json</p></span></div></foreignObject></g></g><g transform="translate(179.79296875, 1372)" id="flowchart-PMS-11" class="node default"><rect height="102" width="230.71875" y="-51" x="-115.359375" style="" class="basic label-container"/><g transform="translate(-85.359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="170.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>PartialMarkdownService<br />Accumulate events<br />MAX_EVENTS=250</p></span></div></foreignObject></g></g><g transform="translate(444.12890625, 1372)" id="flowchart-USER-12" class="node default"><rect height="78" width="197.953125" y="-39" x="-98.9765625" style="" class="basic label-container"/><g transform="translate(-68.9765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="137.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>listenPartialProfit()<br />listenPartialLoss()</p></span></div></foreignObject></g></g></g></g></g></svg>