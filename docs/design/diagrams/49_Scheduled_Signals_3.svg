<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 996.38671875 1726.671875" style="max-width: 996.387px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_CheckScheduled_0" d="M293,86L293,90.167C293,94.333,293,102.667,293.07,110.417C293.141,118.167,293.281,125.334,293.351,128.917L293.422,132.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckScheduled_RegularBacktest_0" d="M237.478,297.822L220.899,313.242C204.319,328.663,171.159,359.503,154.58,380.423C138,401.344,138,412.344,138,417.844L138,423.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckScheduled_ScheduledLoop_0" d="M349.522,297.822L365.935,313.242C382.348,328.663,415.174,359.503,431.587,380.423C448,401.344,448,412.344,448,417.844L448,423.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ScheduledLoop_CandleCheck_0" d="M448,529.344L448,533.51C448,537.677,448,546.01,448.07,553.761C448.141,561.511,448.281,568.678,448.351,572.261L448.422,575.845"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CandleCheck_SLCheck_0" d="M415.276,714.698L408.848,724.318C402.42,733.939,389.563,753.18,383.205,766.385C376.848,779.589,376.988,786.756,377.058,790.339L377.129,793.923"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SLCheck_CancelSL_0" d="M325.086,960.972L311.044,975.743C297.002,990.513,268.919,1020.053,254.878,1046.497C240.836,1072.94,240.836,1096.286,240.836,1107.96L240.836,1119.633"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SLCheck_PriceCheck_0" d="M429.328,960.972L443.203,975.743C457.078,990.513,484.828,1020.053,498.778,1040.407C512.727,1060.761,512.876,1071.927,512.95,1077.511L513.025,1083.094"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PriceCheck_NextCandle_0" d="M513.078,1263.172L512.995,1269.255C512.911,1275.339,512.745,1287.505,520.478,1303.237C528.212,1318.969,543.845,1338.267,551.662,1347.915L559.479,1357.564"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextCandle_CandleCheck_0" d="M621.145,1360.672L635.18,1350.505C649.215,1340.339,677.285,1320.005,691.32,1288.999C705.355,1257.992,705.355,1216.313,705.355,1174.633C705.355,1132.953,705.355,1091.273,705.355,1046.336C705.355,1001.398,705.355,953.203,705.355,907.008C705.355,860.813,705.355,816.617,672.999,780.857C640.642,745.098,575.928,717.773,543.571,704.111L511.214,690.449"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PriceCheck_Activate_0" d="M577.737,1198.513L624.512,1215.372C671.287,1232.232,764.837,1265.952,811.612,1288.312C858.387,1310.672,858.387,1321.672,858.387,1327.172L858.387,1332.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Activate_RemainingCandles_0" d="M858.387,1438.672L858.387,1442.839C858.387,1447.005,858.387,1455.339,858.387,1463.005C858.387,1470.672,858.387,1477.672,858.387,1481.172L858.387,1484.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RemainingCandles_FinalResult_0" d="M858.387,1566.672L858.387,1570.839C858.387,1575.005,858.387,1583.339,858.387,1591.005C858.387,1598.672,858.387,1605.672,858.387,1609.172L858.387,1612.672"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(138, 390.34375)" class="edgeLabel"><g transform="translate(-17.125, -12)" class="label"><foreignObject height="24" width="34.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>false</p></span></div></foreignObject></g></g><g transform="translate(448, 390.34375)" class="edgeLabel"><g transform="translate(-15.015625, -12)" class="label"><foreignObject height="24" width="30.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>true</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(240.8359375, 1049.59375)" class="edgeLabel"><g transform="translate(-11.546875, -12)" class="label"><foreignObject height="24" width="23.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>yes</p></span></div></foreignObject></g></g><g transform="translate(512.578125, 1049.59375)" class="edgeLabel"><g transform="translate(-8.6640625, -12)" class="label"><foreignObject height="24" width="17.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>no</p></span></div></foreignObject></g></g><g transform="translate(512.578125, 1299.671875)" class="edgeLabel"><g transform="translate(-8.6640625, -12)" class="label"><foreignObject height="24" width="17.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>no</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(858.38671875, 1299.671875)" class="edgeLabel"><g transform="translate(-11.546875, -12)" class="label"><foreignObject height="24" width="23.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(293, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="186.859375" y="-39" x="-93.4296875" style="" class="basic label-container"/><g transform="translate(-63.4296875, -24)" style="" class="label"><rect/><foreignObject height="48" width="126.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>backtest(candles)<br />called with signal</p></span></div></foreignObject></g></g><g transform="translate(293, 244.671875)" id="flowchart-CheckScheduled-2" class="node default"><polygon transform="translate(-108.671875,108.671875)" class="label-container" points="108.671875,0 217.34375,-108.671875 108.671875,-217.34375 0,-108.671875"/><g transform="translate(-69.671875, -24)" style="" class="label"><rect/><foreignObject height="48" width="139.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>signal._isScheduled<br />== true?</p></span></div></foreignObject></g></g><g transform="translate(138, 478.34375)" id="flowchart-RegularBacktest-4" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Process as regular signal<br />Check TP/SL on each candle</p></span></div></foreignObject></g></g><g transform="translate(448, 478.34375)" id="flowchart-ScheduledLoop-6" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Iterate candles<br />until activation/cancellation</p></span></div></foreignObject></g></g><g transform="translate(448, 663.3828125)" id="flowchart-CandleCheck-8" class="node default"><polygon transform="translate(-84.0390625,84.0390625)" class="label-container" points="84.0390625,0 168.078125,-84.0390625 84.0390625,-168.078125 0,-84.0390625"/><g transform="translate(-57.0390625, -12)" style="" class="label"><rect/><foreignObject height="24" width="114.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>For each candle</p></span></div></foreignObject></g></g><g transform="translate(376.70703125, 905.0078125)" id="flowchart-SLCheck-10" class="node default"><polygon transform="translate(-107.5859375,107.5859375)" class="label-container" points="107.5859375,0 215.171875,-107.5859375 107.5859375,-215.171875 0,-107.5859375"/><g transform="translate(-68.5859375, -24)" style="" class="label"><rect/><foreignObject height="48" width="137.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Price hit SL?<br />(before priceOpen)</p></span></div></foreignObject></g></g><g transform="translate(240.8359375, 1174.6328125)" id="flowchart-CancelSL-12" class="node default"><rect height="102" width="267.40625" y="-51" x="-133.703125" style="" class="basic label-container"/><g transform="translate(-103.703125, -36)" style="" class="label"><rect/><foreignObject height="72" width="207.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultCancelled<br />action: 'cancelled'</p></span></div></foreignObject></g></g><g transform="translate(512.578125, 1174.6328125)" id="flowchart-PriceCheck-14" class="node default"><polygon transform="translate(-88.0390625,88.0390625)" class="label-container" points="88.0390625,0 176.078125,-88.0390625 88.0390625,-176.078125 0,-88.0390625"/><g transform="translate(-49.0390625, -24)" style="" class="label"><rect/><foreignObject height="48" width="98.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Price reached<br />priceOpen?</p></span></div></foreignObject></g></g><g transform="translate(583.87109375, 1387.671875)" id="flowchart-NextCandle-16" class="node default"><rect height="54" width="232.671875" y="-27" x="-116.3359375" style="" class="basic label-container"/><g transform="translate(-86.3359375, -12)" style="" class="label"><rect/><foreignObject height="24" width="172.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Continue to next candle</p></span></div></foreignObject></g></g><g transform="translate(858.38671875, 1387.671875)" id="flowchart-Activate-20" class="node default"><rect height="102" width="216.359375" y="-51" x="-108.1796875" style="" class="basic label-container"/><g transform="translate(-78.1796875, -36)" style="" class="label"><rect/><foreignObject height="72" width="156.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Activate signal<br />Convert to ISignalRow<br />Update pendingAt</p></span></div></foreignObject></g></g><g transform="translate(858.38671875, 1527.671875)" id="flowchart-RemainingCandles-22" class="node default"><rect height="78" width="247.40625" y="-39" x="-123.703125" style="" class="basic label-container"/><g transform="translate(-93.703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="187.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Process remaining candles<br />Monitor TP/SL</p></span></div></foreignObject></g></g><g transform="translate(858.38671875, 1667.671875)" id="flowchart-FinalResult-24" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed<br />action: 'closed'</p></span></div></foreignObject></g></g></g></g></g></svg>