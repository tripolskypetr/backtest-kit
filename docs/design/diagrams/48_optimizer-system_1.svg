<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 666.9765625 2575.390625" style="max-width: 666.977px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_InitLoop_0" d="M427.98,62L427.98,66.167C427.98,70.333,427.98,78.667,427.98,86.333C427.98,94,427.98,101,427.98,104.5L427.98,108"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_InitLoop_EmptyMessages_0" d="M385.144,166L378.533,170.167C371.923,174.333,358.702,182.667,352.091,190.333C345.48,198,345.48,205,345.48,208.5L345.48,212"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EmptyMessages_SourceLoop_0" d="M345.48,270L345.48,274.167C345.48,278.333,345.48,286.667,345.48,294.333C345.48,302,345.48,309,345.48,312.5L345.48,316"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SourceLoop_EmitProgress_0" d="M299.703,374L292.639,378.167C285.574,382.333,271.445,390.667,264.381,398.333C257.316,406,257.316,413,257.316,416.5L257.316,420"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EmitProgress_FetchData_0" d="M257.316,550L257.316,554.167C257.316,558.333,257.316,566.667,257.316,574.333C257.316,582,257.316,589,257.316,592.5L257.316,596"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FetchData_OnSourceData_0" d="M257.316,678L257.316,682.167C257.316,686.333,257.316,694.667,257.316,702.333C257.316,710,257.316,717,257.316,720.5L257.316,724"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_OnSourceData_FormatMessages_0" d="M257.316,782L257.316,786.167C257.316,790.333,257.316,798.667,257.316,806.333C257.316,814,257.316,821,257.316,824.5L257.316,828"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FormatMessages_IsFunctionSource_0" d="M257.316,910L257.316,916.167C257.316,922.333,257.316,934.667,257.391,946.417C257.465,958.167,257.614,969.334,257.689,974.917L257.763,980.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_IsFunctionSource_DefaultFormatters_0" d="M217.96,1089.112L202.109,1101.838C186.257,1114.564,154.554,1140.017,138.703,1160.243C122.852,1180.469,122.852,1195.469,122.852,1202.969L122.852,1210.469"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_IsFunctionSource_CustomFormatters_0" d="M297.673,1089.112L313.358,1101.838C329.042,1114.564,360.412,1140.017,376.097,1158.243C391.781,1176.469,391.781,1187.469,391.781,1192.969L391.781,1198.469"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DefaultFormatters_PushMessages_0" d="M122.852,1292.469L122.852,1298.635C122.852,1304.802,122.852,1317.135,128.66,1327.104C134.469,1337.072,146.087,1344.675,151.896,1348.477L157.705,1352.278"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CustomFormatters_PushMessages_0" d="M391.781,1304.469L391.781,1308.635C391.781,1312.802,391.781,1321.135,385.972,1329.104C380.163,1337.072,368.546,1344.675,362.737,1348.477L356.928,1352.278"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PushMessages_NextSource_0" d="M257.316,1480.469L257.316,1484.635C257.316,1488.802,257.316,1497.135,265.735,1510.97C274.154,1524.804,290.992,1544.14,299.411,1553.808L307.83,1563.476"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextSource_SourceLoop_0" d="M396.998,1581.986L422.412,1569.233C447.827,1556.48,498.656,1530.975,524.07,1503.555C549.484,1476.135,549.484,1446.802,549.484,1417.469C549.484,1388.135,549.484,1358.802,549.484,1331.469C549.484,1304.135,549.484,1278.802,549.484,1251.469C549.484,1224.135,549.484,1194.802,549.484,1161.93C549.484,1129.057,549.484,1092.646,549.484,1056.234C549.484,1019.823,549.484,983.411,549.484,952.539C549.484,921.667,549.484,896.333,549.484,873C549.484,849.667,549.484,828.333,549.484,809C549.484,789.667,549.484,772.333,549.484,755C549.484,737.667,549.484,720.333,549.484,701C549.484,681.667,549.484,660.333,549.484,639C549.484,617.667,549.484,596.333,549.484,571C549.484,545.667,549.484,516.333,549.484,487C549.484,457.667,549.484,428.333,530.572,408.846C511.661,389.359,473.837,379.718,454.925,374.897L436.013,370.076"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextSource_GeneratePrompt_0" d="M345.98,1683.703L345.897,1689.786C345.814,1695.87,345.647,1708.036,345.564,1719.62C345.48,1731.203,345.48,1742.203,345.48,1747.703L345.48,1753.203"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GeneratePrompt_AddStrategy_0" d="M345.48,1859.203L345.48,1863.37C345.48,1867.536,345.48,1875.87,345.48,1883.536C345.48,1891.203,345.48,1898.203,345.48,1901.703L345.48,1905.203"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AddStrategy_NextRange_0" d="M345.48,2035.203L345.48,2039.37C345.48,2043.536,345.48,2051.87,353.319,2065.342C361.158,2078.814,376.835,2097.424,384.674,2106.73L392.512,2116.035"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextRange_InitLoop_0" d="M479.01,2136.233L507.116,2123.561C535.223,2110.889,591.436,2085.546,619.542,2058.208C647.648,2030.87,647.648,2001.536,647.648,1972.203C647.648,1942.87,647.648,1913.536,647.648,1886.203C647.648,1858.87,647.648,1833.536,647.648,1806.203C647.648,1778.87,647.648,1749.536,647.648,1715.975C647.648,1682.414,647.648,1644.625,647.648,1608.836C647.648,1573.047,647.648,1539.258,647.648,1507.697C647.648,1476.135,647.648,1446.802,647.648,1417.469C647.648,1388.135,647.648,1358.802,647.648,1331.469C647.648,1304.135,647.648,1278.802,647.648,1251.469C647.648,1224.135,647.648,1194.802,647.648,1161.93C647.648,1129.057,647.648,1092.646,647.648,1056.234C647.648,1019.823,647.648,983.411,647.648,952.539C647.648,921.667,647.648,896.333,647.648,873C647.648,849.667,647.648,828.333,647.648,809C647.648,789.667,647.648,772.333,647.648,755C647.648,737.667,647.648,720.333,647.648,701C647.648,681.667,647.648,660.333,647.648,639C647.648,617.667,647.648,596.333,647.648,571C647.648,545.667,647.648,516.333,647.648,487C647.648,457.667,647.648,428.333,647.648,405C647.648,381.667,647.648,364.333,647.648,347C647.648,329.667,647.648,312.333,647.648,295C647.648,277.667,647.648,260.333,647.648,243C647.648,225.667,647.648,208.333,628.539,195.143C609.429,181.953,571.21,172.905,552.1,168.382L532.99,163.858"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NextRange_FinalProgress_0" d="M428.48,2231.891L428.397,2237.974C428.314,2244.057,428.147,2256.224,428.064,2267.807C427.98,2279.391,427.98,2290.391,427.98,2295.891L427.98,2301.391"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FinalProgress_CallbackData_0" d="M427.98,2359.391L427.98,2363.557C427.98,2367.724,427.98,2376.057,427.98,2383.724C427.98,2391.391,427.98,2398.391,427.98,2401.891L427.98,2405.391"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CallbackData_Return_0" d="M427.98,2463.391L427.98,2467.557C427.98,2471.724,427.98,2480.057,427.98,2487.724C427.98,2495.391,427.98,2502.391,427.98,2505.891L427.98,2509.391"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(122.8515625, 1165.46875)" class="edgeLabel"><g transform="translate(-31.0234375, -12)" class="label"><foreignObject height="24" width="62.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Function</p></span></div></foreignObject></g></g><g transform="translate(391.78125, 1165.46875)" class="edgeLabel"><g transform="translate(-24.28125, -12)" class="label"><foreignObject height="24" width="48.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Object</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(549.484375, 871)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 1720.203125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(647.6484375, 947)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 2268.390625)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(427.98046875, 35)" id="flowchart-Start-0" class="node default"><rect height="54" width="167.65625" y="-27" x="-83.828125" style="" class="basic label-container"/><g transform="translate(-53.828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="107.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Start getData()</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 139)" id="flowchart-InitLoop-1" class="node default"><rect height="54" width="202.234375" y="-27" x="-101.1171875" style="" class="basic label-container"/><g transform="translate(-71.1171875, -12)" style="" class="label"><rect/><foreignObject height="24" width="142.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>For each rangeTrain</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 243)" id="flowchart-EmptyMessages-3" class="node default"><rect height="54" width="156.390625" y="-27" x="-78.1953125" style="" class="basic label-container"/><g transform="translate(-48.1953125, -12)" style="" class="label"><rect/><foreignObject height="24" width="96.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>messages = []</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 347)" id="flowchart-SourceLoop-5" class="node default"><rect height="54" width="173.3125" y="-27" x="-86.65625" style="" class="basic label-container"/><g transform="translate(-56.65625, -12)" style="" class="label"><rect/><foreignObject height="24" width="113.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>For each source</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 487)" id="flowchart-EmitProgress-7" class="node default"><rect height="126" width="260" y="-63" x="-130" style="fill:#f0f0f0 !important;stroke:#666 !important" class="basic label-container"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Emit ProgressOptimizerContract<br />processedSources / totalSources</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 639)" id="flowchart-FetchData-9" class="node default"><rect height="78" width="240.28125" y="-39" x="-120.140625" style="fill:#ffe1e1 !important;stroke:#cc0000 !important" class="basic label-container"/><g transform="translate(-90.140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="180.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Fetch paginated data<br />RESOLVE_PAGINATION_FN</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 755)" id="flowchart-OnSourceData-11" class="node default"><rect height="54" width="247.25" y="-27" x="-123.625" style="" class="basic label-container"/><g transform="translate(-93.625, -12)" style="" class="label"><rect/><foreignObject height="24" width="187.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>callbacks.onSourceData?()</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 871)" id="flowchart-FormatMessages-13" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Format user + assistant messages</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 1056.234375)" id="flowchart-IsFunctionSource-15" class="node default"><polygon transform="translate(-72.234375,72.234375)" class="label-container" points="72.234375,0 144.46875,-72.234375 72.234375,-144.46875 0,-72.234375"/><g transform="translate(-45.234375, -12)" style="" class="label"><rect/><foreignObject height="24" width="90.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Source type?</p></span></div></foreignObject></g></g><g transform="translate(122.8515625, 1253.46875)" id="flowchart-DefaultFormatters-17" class="node default"><rect height="78" width="229.703125" y="-39" x="-114.8515625" style="" class="basic label-container"/><g transform="translate(-84.8515625, -24)" style="" class="label"><rect/><foreignObject height="48" width="169.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Use DEFAULT_USER_FN<br />DEFAULT_ASSISTANT_FN</p></span></div></foreignObject></g></g><g transform="translate(391.78125, 1253.46875)" id="flowchart-CustomFormatters-19" class="node default"><rect height="102" width="208.15625" y="-51" x="-104.078125" style="" class="basic label-container"/><g transform="translate(-74.078125, -36)" style="" class="label"><rect/><foreignObject height="72" width="148.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Use source.user<br />source.assistant<br />or template defaults</p></span></div></foreignObject></g></g><g transform="translate(257.31640625, 1417.46875)" id="flowchart-PushMessages-21" class="node default"><rect height="126" width="244.140625" y="-63" x="-122.0703125" style="" class="basic label-container"/><g transform="translate(-92.0703125, -48)" style="" class="label"><rect/><foreignObject height="96" width="184.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>messages.push(<br />  {role: 'user', content},<br />  {role: 'assistant', content}<br />)</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 1606.8359375)" id="flowchart-NextSource-25" class="node default"><polygon transform="translate(-76.3671875,76.3671875)" class="label-container" points="76.3671875,0 152.734375,-76.3671875 76.3671875,-152.734375 0,-76.3671875"/><g transform="translate(-49.3671875, -12)" style="" class="label"><rect/><foreignObject height="24" width="98.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>More sources?</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 1808.203125)" id="flowchart-GeneratePrompt-29" class="node default"><rect height="102" width="260" y="-51" x="-130" style="fill:#e1f5ff !important;stroke:#0066cc !important" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>strategy = getPrompt(symbol, messages)</p></span></div></foreignObject></g></g><g transform="translate(345.48046875, 1972.203125)" id="flowchart-AddStrategy-31" class="node default"><rect height="126" width="260" y="-63" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>strategyList.push({<br />  symbol, name, messages, strategy<br />})</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 2158.296875)" id="flowchart-NextRange-33" class="node default"><polygon transform="translate(-73.09375,73.09375)" class="label-container" points="73.09375,0 146.1875,-73.09375 73.09375,-146.1875 0,-73.09375"/><g transform="translate(-46.09375, -12)" style="" class="label"><rect/><foreignObject height="24" width="92.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>More ranges?</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 2332.390625)" id="flowchart-FinalProgress-37" class="node default"><rect height="54" width="245.734375" y="-27" x="-122.8671875" style="" class="basic label-container"/><g transform="translate(-92.8671875, -12)" style="" class="label"><rect/><foreignObject height="24" width="185.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Emit final progress (100%)</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 2436.390625)" id="flowchart-CallbackData-39" class="node default"><rect height="54" width="199.359375" y="-27" x="-99.6796875" style="" class="basic label-container"/><g transform="translate(-69.6796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="139.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>callbacks.onData?()</p></span></div></foreignObject></g></g><g transform="translate(427.98046875, 2540.390625)" id="flowchart-Return-41" class="node default"><rect height="54" width="196.1875" y="-27" x="-98.09375" style="" class="basic label-container"/><g transform="translate(-68.09375, -12)" style="" class="label"><rect/><foreignObject height="24" width="136.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return strategyList</p></span></div></foreignObject></g></g></g></g></g></svg>