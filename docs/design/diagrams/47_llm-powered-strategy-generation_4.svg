<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 996.9730224609375 1598" style="max-width: 996.973px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_Validate_0" d="M607.703,62L607.703,66.167C607.703,70.333,607.703,78.667,607.703,86.333C607.703,94,607.703,101,607.703,104.5L607.703,108"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Validate_Register_0" d="M607.703,190L607.703,194.167C607.703,198.333,607.703,206.667,607.703,214.333C607.703,222,607.703,229,607.703,232.5L607.703,236"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Register_GetData_0" d="M607.703,318L607.703,322.167C607.703,326.333,607.703,334.667,607.703,342.333C607.703,350,607.703,357,607.703,360.5L607.703,364"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetData_Connection_0" d="M493.345,422L475.697,426.167C458.049,430.333,422.753,438.667,405.105,446.333C387.457,454,387.457,461,387.457,464.5L387.457,468"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Connection_LoopRanges_0" d="M387.457,550L387.457,554.167C387.457,558.333,387.457,566.667,400.011,576.717C412.566,586.768,437.674,598.535,450.229,604.419L462.783,610.303"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopRanges_LoopSources_0" d="M467.081,666L454.077,672.167C441.073,678.333,415.066,690.667,402.062,714.333C389.059,738,389.059,773,389.059,790.5L389.059,808"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopSources_Fetch_0" d="M338.572,866L304.603,884.167C270.634,902.333,202.696,938.667,168.727,962.333C134.758,986,134.758,997,134.758,1002.5L134.758,1008"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Fetch_Dedupe_0" d="M134.758,1090L134.758,1096.167C134.758,1102.333,134.758,1114.667,134.758,1124.333C134.758,1134,134.758,1141,134.758,1144.5L134.758,1148"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Dedupe_UserMsg_0" d="M134.758,1230L134.758,1234.167C134.758,1238.333,134.758,1246.667,134.758,1254.333C134.758,1262,134.758,1269,134.758,1272.5L134.758,1276"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_UserMsg_AssistantMsg_0" d="M134.758,1358L134.758,1362.167C134.758,1366.333,134.758,1374.667,134.758,1382.333C134.758,1390,134.758,1397,134.758,1400.5L134.758,1404"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AssistantMsg_AppendMsg_0" d="M134.758,1486L134.758,1490.167C134.758,1494.333,134.758,1502.667,188.661,1513.016C242.563,1523.366,350.369,1535.732,404.272,1541.915L458.174,1548.098"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AppendMsg_LoopSources_0" d="M714.039,1546.663L759.861,1540.719C805.684,1534.775,897.328,1522.888,943.15,1506.277C988.973,1489.667,988.973,1468.333,988.973,1447C988.973,1425.667,988.973,1404.333,988.973,1383C988.973,1361.667,988.973,1340.333,988.973,1319C988.973,1297.667,988.973,1276.333,988.973,1255C988.973,1233.667,988.973,1212.333,988.973,1191C988.973,1169.667,988.973,1148.333,988.973,1125C988.973,1101.667,988.973,1076.333,988.973,1051C988.973,1025.667,988.973,1000.333,902.267,968.011C815.562,935.688,642.151,896.376,555.446,876.72L468.741,857.064"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopSources_CallPrompt_0" d="M399.473,866L406.48,884.167C413.487,902.333,427.501,938.667,434.508,960.333C441.516,982,441.516,989,441.516,992.5L441.516,996"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CallPrompt_StoreStrategy_0" d="M441.516,1102L441.516,1106.167C441.516,1110.333,441.516,1118.667,448.938,1128.591C456.361,1138.516,471.205,1150.032,478.628,1155.79L486.05,1161.548"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StoreStrategy_LoopRanges_0" d="M558.82,1164L566.77,1157.833C574.719,1151.667,590.617,1139.333,598.566,1120.5C606.516,1101.667,606.516,1076.333,606.516,1051C606.516,1025.667,606.516,1000.333,606.516,965C606.516,929.667,606.516,884.333,606.516,839C606.516,793.667,606.516,748.333,599.093,719.909C591.671,691.484,576.826,679.968,569.403,674.21L561.981,668.452"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LoopRanges_GetData_0" d="M559.321,612L567.385,605.833C575.449,599.667,591.576,587.333,599.639,570.5C607.703,553.667,607.703,532.333,607.703,511C607.703,489.667,607.703,468.333,607.703,454.167C607.703,440,607.703,433,607.703,429.5L607.703,426"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetData_GetCode_0" d="M719.997,422L737.326,426.167C754.655,430.333,789.314,438.667,806.643,448.333C823.973,458,823.973,469,823.973,474.5L823.973,480"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetCode_Templates_0" d="M823.973,538L823.973,544.167C823.973,550.333,823.973,562.667,823.973,572.333C823.973,582,823.973,589,823.973,592.5L823.973,596"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Templates_Assemble_0" d="M823.973,678L823.973,682.167C823.973,686.333,823.973,694.667,823.973,702.333C823.973,710,823.973,717,823.973,720.5L823.973,724"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Assemble_Dump_0" d="M823.973,950L823.973,954.167C823.973,958.333,823.973,966.667,823.973,976.333C823.973,986,823.973,997,823.973,1002.5L823.973,1008"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Dump_WriteFile_0" d="M823.973,1090L823.973,1096.167C823.973,1102.333,823.973,1114.667,823.973,1124.333C823.973,1134,823.973,1141,823.973,1144.5L823.973,1148"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(607.703125, 35)" id="flowchart-Start-0" class="node default"><rect height="54" width="222.53125" y="-27" x="-111.265625" style="" class="basic label-container"/><g transform="translate(-81.265625, -12)" style="" class="label"><rect/><foreignObject height="24" width="162.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>addOptimizer(schema)</p></span></div></foreignObject></g></g><g transform="translate(607.703125, 151)" id="flowchart-Validate-1" class="node default"><rect height="78" width="254.0625" y="-39" x="-127.03125" style="" class="basic label-container"/><g transform="translate(-97.03125, -24)" style="" class="label"><rect/><foreignObject height="48" width="194.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OptimizerValidationService<br />Check duplicate names</p></span></div></foreignObject></g></g><g transform="translate(607.703125, 279)" id="flowchart-Register-2" class="node default"><rect height="78" width="237.453125" y="-39" x="-118.7265625" style="" class="basic label-container"/><g transform="translate(-88.7265625, -24)" style="" class="label"><rect/><foreignObject height="48" width="177.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OptimizerSchemaService<br />Store in ToolRegistry</p></span></div></foreignObject></g></g><g transform="translate(607.703125, 395)" id="flowchart-GetData-3" class="node default"><rect height="54" width="252.421875" y="-27" x="-126.2109375" style="" class="basic label-container"/><g transform="translate(-96.2109375, -12)" style="" class="label"><rect/><foreignObject height="24" width="192.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Optimizer.getData(symbol)</p></span></div></foreignObject></g></g><g transform="translate(387.45703125, 511)" id="flowchart-Connection-4" class="node default"><rect height="78" width="263.203125" y="-39" x="-131.6015625" style="fill:#e1f5ff !important;stroke:#0066cc !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-101.6015625, -24)" style="" class="label"><rect/><foreignObject height="48" width="203.203125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OptimizerConnectionService<br />Get memoized instance</p></span></div></foreignObject></g></g><g transform="translate(524.015625, 639)" id="flowchart-LoopRanges-5" class="node default"><rect height="54" width="180.46875" y="-27" x="-90.234375" style="" class="basic label-container"/><g transform="translate(-60.234375, -12)" style="" class="label"><rect/><foreignObject height="24" width="120.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Loop: rangeTrain</p></span></div></foreignObject></g></g><g transform="translate(389.05859375, 839)" id="flowchart-LoopSources-6" class="node default"><rect height="54" width="151.5625" y="-27" x="-75.78125" style="" class="basic label-container"/><g transform="translate(-45.78125, -12)" style="" class="label"><rect/><foreignObject height="24" width="91.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Loop: source</p></span></div></foreignObject></g></g><g transform="translate(134.7578125, 1051)" id="flowchart-Fetch-7" class="node default"><rect height="78" width="253.515625" y="-39" x="-126.7578125" style="" class="basic label-container"/><g transform="translate(-96.7578125, -24)" style="" class="label"><rect/><foreignObject height="48" width="193.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Fetch data with pagination<br />iterateDocuments()</p></span></div></foreignObject></g></g><g transform="translate(134.7578125, 1191)" id="flowchart-Dedupe-8" class="node default"><rect height="78" width="217.734375" y="-39" x="-108.8671875" style="" class="basic label-container"/><g transform="translate(-78.8671875, -24)" style="" class="label"><rect/><foreignObject height="48" width="157.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>distinctDocuments(id)<br />Remove duplicates</p></span></div></foreignObject></g></g><g transform="translate(134.7578125, 1319)" id="flowchart-UserMsg-9" class="node default"><rect height="78" width="211.625" y="-39" x="-105.8125" style="" class="basic label-container"/><g transform="translate(-75.8125, -24)" style="" class="label"><rect/><foreignObject height="48" width="151.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Call user() formatter<br />or DEFAULT_USER_FN</p></span></div></foreignObject></g></g><g transform="translate(134.7578125, 1447)" id="flowchart-AssistantMsg-10" class="node default"><rect height="78" width="249.328125" y="-39" x="-124.6640625" style="" class="basic label-container"/><g transform="translate(-94.6640625, -24)" style="" class="label"><rect/><foreignObject height="48" width="189.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Call assistant() formatter<br />or DEFAULT_ASSISTANT_FN</p></span></div></foreignObject></g></g><g transform="translate(588.09375, 1563)" id="flowchart-AppendMsg-11" class="node default"><rect height="54" width="251.890625" y="-27" x="-125.9453125" style="" class="basic label-container"/><g transform="translate(-95.9453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="191.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Append MessageModel pair</p></span></div></foreignObject></g></g><g transform="translate(441.515625, 1051)" id="flowchart-CallPrompt-12" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Call getPrompt(symbol, messages)<br />User-defined logic</p></span></div></foreignObject></g></g><g transform="translate(524.015625, 1191)" id="flowchart-StoreStrategy-13" class="node default"><rect height="54" width="237.484375" y="-27" x="-118.7421875" style="" class="basic label-container"/><g transform="translate(-88.7421875, -12)" style="" class="label"><rect/><foreignObject height="24" width="177.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Store IOptimizerStrategy</p></span></div></foreignObject></g></g><g transform="translate(823.97265625, 511)" id="flowchart-GetCode-14" class="node default"><rect height="54" width="255.25" y="-27" x="-127.625" style="" class="basic label-container"/><g transform="translate(-97.625, -12)" style="" class="label"><rect/><foreignObject height="24" width="195.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Optimizer.getCode(symbol)</p></span></div></foreignObject></g></g><g transform="translate(823.97265625, 639)" id="flowchart-Templates-15" class="node default"><rect height="78" width="249.09375" y="-39" x="-124.546875" style="fill:#ffe1e1 !important;stroke:#cc0000 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-94.546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="189.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OptimizerTemplateService<br />11 template methods</p></span></div></foreignObject></g></g><g transform="translate(823.97265625, 839)" id="flowchart-Assemble-16" class="node default"><rect height="222" width="234.265625" y="-111" x="-117.1328125" style="" class="basic label-container"/><g transform="translate(-87.1328125, -96)" style="" class="label"><rect/><foreignObject height="192" width="174.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Assemble code sections:<br />1. Top banner<br />2. Helpers<br />3. Exchange<br />4. Frames<br />5. Strategies<br />6. Walker<br />7. Launcher</p></span></div></foreignObject></g></g><g transform="translate(823.97265625, 1051)" id="flowchart-Dump-17" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Optimizer.dump(symbol, path)</p></span></div></foreignObject></g></g><g transform="translate(823.97265625, 1191)" id="flowchart-WriteFile-18" class="node default"><rect height="78" width="202.34375" y="-39" x="-101.171875" style="fill:#c8e6c9 !important;stroke:#388e3c !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-71.171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="142.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>writeFile(.mjs)<br />Executable strategy</p></span></div></foreignObject></g></g></g></g></g></svg>