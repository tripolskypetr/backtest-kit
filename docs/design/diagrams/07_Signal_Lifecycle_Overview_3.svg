<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 980.7265625 1524.171875" style="max-width: 980.727px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_CheckTimeout_0" d="M342.895,86L342.895,90.167C342.895,94.333,342.895,102.667,342.895,110.333C342.895,118,342.895,125,342.895,128.5L342.895,132"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTimeout_TimeoutCheck_0" d="M342.895,238L342.895,242.167C342.895,246.333,342.895,254.667,342.965,262.417C343.035,270.167,343.176,277.334,343.246,280.917L343.316,284.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TimeoutCheck_Cancel_0" d="M297.312,383.949L271.377,397.713C245.443,411.476,193.573,439.004,167.638,458.268C141.703,477.531,141.703,488.531,141.703,494.031L141.703,499.531"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TimeoutCheck_CheckPrice_0" d="M389.477,383.949L415.245,397.713C441.013,411.476,492.55,439.004,518.318,460.268C544.086,481.531,544.086,496.531,544.086,504.031L544.086,511.531"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckPrice_PriceCheck_0" d="M544.086,593.531L544.086,599.698C544.086,605.865,544.086,618.198,544.156,627.948C544.226,637.698,544.367,644.865,544.437,648.449L544.508,652.032"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PriceCheck_ReturnIdle_0" d="M488.24,750.529L442.201,766.003C396.162,781.477,304.085,812.426,258.046,842.567C212.008,872.708,212.008,902.042,212.008,931.375C212.008,960.708,212.008,990.042,212.008,1021.858C212.008,1053.674,212.008,1087.974,212.008,1122.273C212.008,1156.573,212.008,1190.872,212.928,1213.531C213.848,1236.19,215.689,1247.208,216.609,1252.717L217.529,1258.227"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PriceCheck_RiskCheck_0" d="M544.586,806.875L544.503,812.958C544.419,819.042,544.253,831.208,544.169,844.792C544.086,858.375,544.086,873.375,544.086,880.875L544.086,888.375"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PriceCheck_ReturnActive_0" d="M599.381,752.08L639.938,767.296C680.496,782.512,761.611,812.943,802.169,833.659C842.727,854.375,842.727,865.375,842.727,870.875L842.727,876.375"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskCheck_RiskPass_0" d="M544.086,970.375L544.086,978.542C544.086,986.708,544.086,1003.042,544.16,1016.792C544.235,1030.542,544.384,1041.709,544.458,1047.292L544.533,1052.875"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskPass_ReturnIdle_0" d="M503.638,1147.724L482.234,1160.632C460.83,1173.54,418.023,1199.356,386.785,1218.091C355.548,1236.825,335.882,1248.479,326.049,1254.306L316.215,1260.133"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RiskPass_Activate_0" d="M555.473,1177.785L556.969,1185.683C558.465,1193.581,561.457,1209.376,562.953,1224.774C564.449,1240.172,564.449,1255.172,564.449,1262.672L564.449,1270.172"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Activate_ReturnOpened_0" d="M564.449,1352.172L564.449,1358.339C564.449,1364.505,564.449,1376.839,564.449,1386.505C564.449,1396.172,564.449,1403.172,564.449,1406.672L564.449,1410.172"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(141.703125, 466.53125)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 466.53125)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(212.0078125, 1019.375)" class="edgeLabel"><g transform="translate(-19.8359375, -12)" class="label"><foreignObject height="24" width="39.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>SL hit</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 843.375)" class="edgeLabel"><g transform="translate(-67.9921875, -12)" class="label"><foreignObject height="24" width="135.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>priceOpen reached</p></span></div></foreignObject></g></g><g transform="translate(842.7265625, 843.375)" class="edgeLabel"><g transform="translate(-42.7109375, -12)" class="label"><foreignObject height="24" width="85.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Still waiting</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(375.21484375, 1225.171875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(564.44921875, 1225.171875)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(342.89453125, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="233.265625" y="-39" x="-116.6328125" style="" class="basic label-container"/><g transform="translate(-86.6328125, -24)" style="" class="label"><rect/><foreignObject height="48" width="173.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Scheduled signal exists<br />_scheduledSignal != null</p></span></div></foreignObject></g></g><g transform="translate(342.89453125, 187)" id="flowchart-CheckTimeout-1" class="node default"><rect height="102" width="369.125" y="-51" x="-184.5625" style="" class="basic label-container"/><g transform="translate(-154.5625, -36)" style="" class="label"><rect/><foreignObject height="72" width="309.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CHECK_SCHEDULED_SIGNAL_TIMEOUT_FN()<br />elapsedTime &gt;= CC_SCHEDULE_AWAIT_MINUTES</p></span></div></foreignObject></g></g><g transform="translate(342.89453125, 358.765625)" id="flowchart-TimeoutCheck-2" class="node default"><polygon transform="translate(-70.765625,70.765625)" class="label-container" points="70.765625,0 141.53125,-70.765625 70.765625,-141.53125 0,-70.765625"/><g transform="translate(-31.765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="63.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Timeout<br />reached?</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 554.53125)" id="flowchart-CheckPrice-3" class="node default"><rect height="78" width="437.359375" y="-39" x="-218.6796875" style="" class="basic label-container"/><g transform="translate(-188.6796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="377.359375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CHECK_SCHEDULED_SIGNAL_PRICE_ACTIVATION_FN()<br />Compare currentPrice vs priceOpen and SL</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 730.953125)" id="flowchart-PriceCheck-4" class="node default"><polygon transform="translate(-75.421875,75.421875)" class="label-container" points="75.421875,0 150.84375,-75.421875 75.421875,-150.84375 0,-75.421875"/><g transform="translate(-36.421875, -24)" style="" class="label"><rect/><foreignObject height="48" width="72.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Price<br />condition?</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 931.375)" id="flowchart-RiskCheck-5" class="node default"><rect height="78" width="237.28125" y="-39" x="-118.640625" style="" class="basic label-container"/><g transform="translate(-88.640625, -24)" style="" class="label"><rect/><foreignObject height="48" width="177.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>risk.checkSignal()<br />Re-validate at activation</p></span></div></foreignObject></g></g><g transform="translate(544.0859375, 1122.2734375)" id="flowchart-RiskPass-6" class="node default"><polygon transform="translate(-65.8984375,65.8984375)" class="label-container" points="65.8984375,0 131.796875,-65.8984375 65.8984375,-131.796875 0,-65.8984375"/><g transform="translate(-26.8984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="53.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Risk<br />passed?</p></span></div></foreignObject></g></g><g transform="translate(564.44921875, 1313.171875)" id="flowchart-Activate-7" class="node default"><rect height="78" width="315.484375" y="-39" x="-157.7421875" style="" class="basic label-container"/><g transform="translate(-127.7421875, -24)" style="" class="label"><rect/><foreignObject height="48" width="255.484375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ACTIVATE_SCHEDULED_SIGNAL_FN()<br />Update pendingAt timestamp</p></span></div></foreignObject></g></g><g transform="translate(141.703125, 554.53125)" id="flowchart-Cancel-8" class="node default"><rect height="102" width="267.40625" y="-51" x="-133.703125" style="" class="basic label-container"/><g transform="translate(-103.703125, -36)" style="" class="label"><rect/><foreignObject height="72" width="207.40625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultCancelled<br />onCancel callback</p></span></div></foreignObject></g></g><g transform="translate(226.70703125, 1313.171875)" id="flowchart-ReturnIdle-9" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultIdle<br />Signal removed</p></span></div></foreignObject></g></g><g transform="translate(564.44921875, 1465.171875)" id="flowchart-ReturnOpened-10" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultOpened<br />action: 'opened'</p></span></div></foreignObject></g></g><g transform="translate(842.7265625, 931.375)" id="flowchart-ReturnActive-11" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultActive<br />action: 'active'</p></span></div></foreignObject></g></g></g></g></g></svg>