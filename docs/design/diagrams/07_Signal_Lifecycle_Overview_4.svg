<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1247.90625 2099.84375" style="max-width: 1247.91px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_GetPrice_0" d="M627.445,86L627.445,90.167C627.445,94.333,627.445,102.667,627.445,110.333C627.445,118,627.445,125,627.445,128.5L627.445,132"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetPrice_CheckTime_0" d="M627.445,214L627.445,218.167C627.445,222.333,627.445,230.667,627.445,238.333C627.445,246,627.445,253,627.445,256.5L627.445,260"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTime_TimeExpired_0" d="M627.445,414L627.445,418.167C627.445,422.333,627.445,430.667,627.516,438.417C627.586,446.167,627.726,453.334,627.797,456.917L627.867,460.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TimeExpired_CloseTimeout_0" d="M551.136,584.409L483.444,603.294C415.752,622.179,280.368,659.949,212.676,691.5C144.984,723.052,144.984,748.385,144.984,771.719C144.984,795.052,144.984,816.385,144.984,844.146C144.984,871.906,144.984,906.094,144.984,942.281C144.984,978.469,144.984,1016.656,144.984,1048.417C144.984,1080.177,144.984,1105.51,144.984,1132.844C144.984,1160.177,144.984,1189.51,144.984,1224.344C144.984,1259.177,144.984,1299.51,144.984,1339.844C144.984,1380.177,144.984,1420.51,144.984,1452.177C144.984,1483.844,144.984,1506.844,144.984,1518.344L144.984,1529.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TimeExpired_CheckTP_0" d="M681.529,607.635L699.512,622.649C717.496,637.663,753.463,667.691,771.446,688.205C789.43,708.719,789.43,719.719,789.43,725.219L789.43,730.719"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckTP_TPHit_0" d="M789.43,812.719L789.43,816.885C789.43,821.052,789.43,829.385,789.5,837.136C789.57,844.886,789.711,852.053,789.781,855.636L789.851,859.22"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TPHit_CloseTP_0" d="M732.792,961.206L688.819,976.813C644.846,992.419,556.9,1023.631,512.926,1051.904C468.953,1080.177,468.953,1105.51,468.953,1132.844C468.953,1160.177,468.953,1189.51,468.953,1224.344C468.953,1259.177,468.953,1299.51,468.953,1339.844C468.953,1380.177,468.953,1420.51,468.953,1452.177C468.953,1483.844,468.953,1506.844,468.953,1518.344L468.953,1529.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TPHit_CheckSL_0" d="M835.361,972.912L854.703,986.568C874.045,1000.223,912.73,1027.533,932.072,1046.689C951.414,1065.844,951.414,1076.844,951.414,1082.344L951.414,1087.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSL_SLHit_0" d="M951.414,1169.844L951.414,1178.01C951.414,1186.177,951.414,1202.51,951.491,1218.26C951.567,1234.01,951.72,1249.177,951.797,1256.761L951.874,1264.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SLHit_CloseSL_0" d="M911.085,1371.515L891.391,1386.403C871.697,1401.291,832.31,1431.067,812.616,1457.456C792.922,1483.844,792.922,1506.844,792.922,1518.344L792.922,1529.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SLHit_ReturnActive_0" d="M992.743,1371.515L1012.27,1386.403C1031.798,1401.291,1070.852,1431.067,1090.379,1453.456C1109.906,1475.844,1109.906,1490.844,1109.906,1498.344L1109.906,1505.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTimeout_CalcPnL_0" d="M144.984,1611.844L144.984,1620.01C144.984,1628.177,144.984,1644.51,179.242,1659.445C213.499,1674.379,282.014,1687.914,316.272,1694.682L350.529,1701.449"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseTP_CalcPnL_0" d="M468.953,1611.844L468.953,1620.01C468.953,1628.177,468.953,1644.51,468.953,1656.177C468.953,1667.844,468.953,1674.844,468.953,1678.344L468.953,1681.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CloseSL_CalcPnL_0" d="M792.922,1611.844L792.922,1620.01C792.922,1628.177,792.922,1644.51,758.664,1659.445C724.407,1674.379,655.892,1687.914,621.635,1694.682L587.377,1701.449"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalcPnL_Cleanup_0" d="M468.953,1763.844L468.953,1768.01C468.953,1772.177,468.953,1780.51,468.953,1788.177C468.953,1795.844,468.953,1802.844,468.953,1806.344L468.953,1809.844"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Cleanup_ReturnClosed_0" d="M468.953,1915.844L468.953,1920.01C468.953,1924.177,468.953,1932.51,468.953,1940.177C468.953,1947.844,468.953,1954.844,468.953,1958.344L468.953,1961.844"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(144.984375, 1054.84375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(789.4296875, 697.71875)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(468.953125, 1218.84375)" class="edgeLabel"><g transform="translate(-68.25, -24)" class="label"><foreignObject height="48" width="136.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>LONG: price &gt;= TP<br />SHORT: price &lt;= TP</p></span></div></foreignObject></g></g><g transform="translate(951.4140625, 1054.84375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(792.921875, 1460.84375)" class="edgeLabel"><g transform="translate(-67.1875, -24)" class="label"><foreignObject height="48" width="134.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>LONG: price &lt;= SL<br />SHORT: price &gt;= SL</p></span></div></foreignObject></g></g><g transform="translate(1109.90625, 1460.84375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(627.4453125, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="218.015625" y="-39" x="-109.0078125" style="" class="basic label-container"/><g transform="translate(-79.0078125, -24)" style="" class="label"><rect/><foreignObject height="48" width="158.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Active signal exists<br />_pendingSignal != null</p></span></div></foreignObject></g></g><g transform="translate(627.4453125, 175)" id="flowchart-GetPrice-1" class="node default"><rect height="78" width="260.140625" y="-39" x="-130.0703125" style="" class="basic label-container"/><g transform="translate(-100.0703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="200.140625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>exchange.getAveragePrice()<br />VWAP calculation</p></span></div></foreignObject></g></g><g transform="translate(627.4453125, 339)" id="flowchart-CheckTime-2" class="node default"><rect height="150" width="268.84375" y="-75" x="-134.421875" style="" class="basic label-container"/><g transform="translate(-104.421875, -60)" style="" class="label"><rect/><foreignObject height="120" width="208.84375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>elapsedTime = currentTime - signal.pendingAt<br />maxTimeToWait = signal.minuteEstimatedTime * 60 * 1000</p></span></div></foreignObject></g></g><g transform="translate(627.4453125, 562.359375)" id="flowchart-TimeExpired-3" class="node default"><polygon transform="translate(-98.359375,98.359375)" class="label-container" points="98.359375,0 196.71875,-98.359375 98.359375,-196.71875 0,-98.359375"/><g transform="translate(-59.359375, -24)" style="" class="label"><rect/><foreignObject height="48" width="118.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>elapsedTime &gt;=<br />maxTimeToWait?</p></span></div></foreignObject></g></g><g transform="translate(789.4296875, 773.71875)" id="flowchart-CheckTP-4" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Compare currentPrice vs priceTakeProfit</p></span></div></foreignObject></g></g><g transform="translate(789.4296875, 940.28125)" id="flowchart-TPHit-5" class="node default"><polygon transform="translate(-77.5625,77.5625)" class="label-container" points="77.5625,0 155.125,-77.5625 77.5625,-155.125 0,-77.5625"/><g transform="translate(-38.5625, -24)" style="" class="label"><rect/><foreignObject height="48" width="77.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Take Profit<br />hit?</p></span></div></foreignObject></g></g><g transform="translate(951.4140625, 1130.84375)" id="flowchart-CheckSL-6" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Compare currentPrice vs priceStopLoss</p></span></div></foreignObject></g></g><g transform="translate(951.4140625, 1339.84375)" id="flowchart-SLHit-7" class="node default"><polygon transform="translate(-72,72)" class="label-container" points="72,0 144,-72 72,-144 0,-72"/><g transform="translate(-33, -24)" style="" class="label"><rect/><foreignObject height="48" width="66"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Stop Loss<br />hit?</p></span></div></foreignObject></g></g><g transform="translate(144.984375, 1572.84375)" id="flowchart-CloseTimeout-8" class="node default"><rect height="78" width="273.96875" y="-39" x="-136.984375" style="" class="basic label-container"/><g transform="translate(-106.984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="213.96875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CLOSE_PENDING_SIGNAL_FN()<br />closeReason: 'time_expired'</p></span></div></foreignObject></g></g><g transform="translate(468.953125, 1572.84375)" id="flowchart-CloseTP-9" class="node default"><rect height="78" width="273.96875" y="-39" x="-136.984375" style="" class="basic label-container"/><g transform="translate(-106.984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="213.96875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CLOSE_PENDING_SIGNAL_FN()<br />closeReason: 'take_profit'</p></span></div></foreignObject></g></g><g transform="translate(792.921875, 1572.84375)" id="flowchart-CloseSL-10" class="node default"><rect height="78" width="273.96875" y="-39" x="-136.984375" style="" class="basic label-container"/><g transform="translate(-106.984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="213.96875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CLOSE_PENDING_SIGNAL_FN()<br />closeReason: 'stop_loss'</p></span></div></foreignObject></g></g><g transform="translate(468.953125, 1724.84375)" id="flowchart-CalcPnL-11" class="node default"><rect height="78" width="229" y="-39" x="-114.5" style="" class="basic label-container"/><g transform="translate(-84.5, -24)" style="" class="label"><rect/><foreignObject height="48" width="169"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>toProfitLossDto()<br />Apply fees and slippage</p></span></div></foreignObject></g></g><g transform="translate(468.953125, 1864.84375)" id="flowchart-Cleanup-12" class="node default"><rect height="102" width="218.265625" y="-51" x="-109.1328125" style="" class="basic label-container"/><g transform="translate(-79.1328125, -36)" style="" class="label"><rect/><foreignObject height="72" width="158.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>partial.clear()<br />risk.removeSignal()<br />setPendingSignal(null)</p></span></div></foreignObject></g></g><g transform="translate(468.953125, 2028.84375)" id="flowchart-ReturnClosed-13" class="node default"><rect height="126" width="260" y="-63" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultClosed<br />action: 'closed'<br />pnl: IStrategyPnL</p></span></div></foreignObject></g></g><g transform="translate(1109.90625, 1572.84375)" id="flowchart-ReturnActive-14" class="node default"><rect height="126" width="260" y="-63" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -48)" style="" class="label"><rect/><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Return IStrategyTickResultActive<br />action: 'active'<br />Continue monitoring</p></span></div></foreignObject></g></g></g></g></g></svg>